import{d as H,r as _,m as O,a as x,b as S,e as t,f as F,g as V,w as C,n as R,v as j,i as T,F as Q,p as z,t as B,k as $,j as J}from"./runtime-dom.esm-bundler-D9CM_geE.js";/* empty css                   */const G={class:"admin-page"},X={class:"admin-container"},K={class:"admin-tabs"},W={class:"targets-tab"},Y={class:"card"},Z={class:"table-wrap"},tt={class:"admin-table","aria-label":"Target types table"},et={key:0},at={key:1},st={class:"text-truncate"},nt={class:"text-truncate"},lt={class:"row-actions"},it=["onClick"],ot=["onClick"],dt={key:0,class:"modal",role:"dialog","aria-modal":"true"},rt={class:"modal-content admin-modal",role:"document"},ct={class:"modal-header"},ut={class:"modal-body"},mt={class:"form-group"},vt={class:"form-group"},gt={class:"form-group"},pt={class:"form-group"},yt={class:"modal-actions"},bt=["disabled"],ft={key:1,class:"modal",role:"dialog","aria-modal":"true"},ht={class:"modal-content admin-modal",style:{"max-width":"400px"},role:"document"},wt={class:"modal-body"},_t={class:"modal-actions"},Et=["disabled"],kt=H({__name:"admin-page",setup(N){const f=_("users"),c=_([]),p=_(!1),y=_(!1),d=_(!1),u=_(null),l=_(null),I=_(!1),w=_(!1),o=O({name:"",placeholder:"",default_template:"",sort_order:0});function U(){const i=document.cookie.match(/csrf_token=([^;]+)/);return i?i[1]:""}async function v(){if(!p.value){p.value=!0;try{const i=await fetch("/api/v1/target-types",{credentials:"include"});if(!i.ok)throw new Error("Failed to fetch target types");const s=await i.json();c.value=s.target_types||[]}catch(i){console.error("Failed to load target types:",i)}finally{p.value=!1}}}function L(){u.value=null,o.name="",o.placeholder="",o.default_template="",o.sort_order=c.value.length,y.value=!0}function E(i){u.value=i,o.name=i.name,o.placeholder=i.placeholder||"",o.default_template=i.default_template||"",o.sort_order=i.sort_order,y.value=!0}function A(){y.value=!1,u.value=null}async function P(){if(!o.name.trim()){alert("请输入目标类型名称");return}I.value=!0;try{const i={name:o.name.trim(),placeholder:o.placeholder.trim()||null,default_template:o.default_template.trim()||null,sort_order:o.sort_order},s={"Content-Type":"application/json","X-CSRF-Token":U()};let h;if(u.value?h=await fetch(`/api/v1/target-types/${u.value.id}`,{method:"PUT",credentials:"include",headers:s,body:JSON.stringify(i)}):h=await fetch("/api/v1/target-types",{method:"POST",credentials:"include",headers:s,body:JSON.stringify(i)}),!h.ok){const r=await h.json().catch(()=>({}));throw new Error(r.detail||`HTTP ${h.status}`)}A(),await v()}catch(i){alert("保存失败: "+(i.message||"未知错误"))}finally{I.value=!1}}function M(i){l.value=i,d.value=!0}async function D(){if(l.value){w.value=!0;try{const i=await fetch(`/api/v1/target-types/${l.value.id}`,{method:"DELETE",credentials:"include",headers:{"X-CSRF-Token":U()}});if(!i.ok&&i.status!==204){const s=await i.json().catch(()=>({}));throw new Error(s.detail||`HTTP ${i.status}`)}d.value=!1,l.value=null,await v()}catch(i){alert("删除失败: "+(i.message||"未知错误"))}finally{w.value=!1}}}return(i,s)=>{var h;return S(),x("div",G,[t("div",X,[s[14]||(s[14]=V('<header class="admin-header"><div><h1>Admin Dashboard</h1><div class="meta-text">User management and system stats</div></div><div class="header-actions"><a href="/" class="btn btn-secondary" style="text-decoration:none;">Home</a><a href="/video" class="btn btn-secondary" style="text-decoration:none;">Video</a><a href="/storage" class="btn btn-secondary" style="text-decoration:none;">Storage</a></div></header>',1)),t("div",K,[t("button",{class:R(["admin-tab",{active:f.value==="users"}]),onClick:s[0]||(s[0]=r=>f.value="users")},"用户管理",2),t("button",{class:R(["admin-tab",{active:f.value==="targets"}]),onClick:s[1]||(s[1]=r=>{f.value="targets",v()})},"目标类型管理",2)]),C(t("div",null,[...s[8]||(s[8]=[V('<section id="errorBanner" class="card admin-banner" style="display:none;"></section><section class="stats-grid" id="statsGrid"><div class="card stat-card"><div class="stat-label">Total Users</div><div class="stat-value" id="statTotalUsers">-</div></div><div class="card stat-card"><div class="stat-label">Active Users</div><div class="stat-value" id="statActiveUsers">-</div></div><div class="card stat-card"><div class="stat-label">Storage Used</div><div class="stat-value" id="statStorageUsed">-</div></div><div class="card stat-card"><div class="stat-label">Storage Quota</div><div class="stat-value" id="statStorageQuota">-</div></div><div class="card stat-card"><div class="stat-label">Videos</div><div class="stat-value" id="statVideos">-</div></div><div class="card stat-card"><div class="stat-label">Images</div><div class="stat-value" id="statImages">-</div></div><div class="card stat-card"><div class="stat-label">Active Sessions</div><div class="stat-value" id="statSessions">-</div></div></section><section class="card"><div class="toolbar"><div class="toolbar-left"><input id="searchInput" type="text" placeholder="Search username or email…"><select id="filterActive" aria-label="Filter active status"><option value="">All statuses</option><option value="true">Active</option><option value="false">Inactive</option></select><select id="filterAdmin" aria-label="Filter admin role"><option value="">All roles</option><option value="true">Admins</option><option value="false">Non-admin</option></select></div><div class="toolbar-right"><button class="btn btn-secondary" id="refreshBtn" type="button">Refresh</button></div></div><div class="table-wrap"><table class="admin-table" aria-label="User table"><thead><tr><th>Username</th><th>Email</th><th>Status</th><th>Role</th><th>Storage</th><th>Created</th><th>Last Login</th><th style="width:200px;">Actions</th></tr></thead><tbody id="userTbody"><tr><td colspan="8" class="meta-text">Loading…</td></tr></tbody></table></div><div class="pagination"><button class="btn btn-secondary btn-sm" id="prevPageBtn" type="button">Prev</button><span class="meta-text" id="pageLabel">Page 1</span><button class="btn btn-secondary btn-sm" id="nextPageBtn" type="button">Next</button></div></section>',3)])],512),[[j,f.value==="users"]]),C(t("div",W,[t("section",Y,[t("div",{class:"toolbar"},[s[10]||(s[10]=t("div",{class:"toolbar-left"},[t("h2",{class:"section-title"},"目标类型列表")],-1)),t("div",{class:"toolbar-right"},[t("button",{class:"btn btn-primary",onClick:L},[...s[9]||(s[9]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),T(" 添加目标类型 ",-1)])])])]),t("div",Z,[t("table",tt,[s[13]||(s[13]=t("thead",null,[t("tr",null,[t("th",{style:{width:"100px"}},"名称"),t("th",{style:{width:"250px"}},"占位提示"),t("th",null,"默认模板"),t("th",{style:{width:"80px"}},"排序"),t("th",{style:{width:"140px"}},"操作")])],-1)),t("tbody",null,[p.value?(S(),x("tr",et,[...s[11]||(s[11]=[t("td",{colspan:"5",class:"meta-text"},"加载中...",-1)])])):c.value.length===0?(S(),x("tr",at,[...s[12]||(s[12]=[t("td",{colspan:"5",class:"meta-text"},"暂无目标类型",-1)])])):F("",!0),(S(!0),x(Q,null,z(c.value,r=>(S(),x("tr",{key:r.id},[t("td",null,B(r.name),1),t("td",st,B(r.placeholder||"-"),1),t("td",nt,B(r.default_template||"-"),1),t("td",null,B(r.sort_order),1),t("td",null,[t("div",lt,[t("button",{class:"btn btn-ghost btn-sm",onClick:a=>E(r)},"编辑",8,it),t("button",{class:"btn btn-ghost btn-sm btn-danger",onClick:a=>M(r)},"删除",8,ot)])])]))),128))])])])])],512),[[j,f.value==="targets"]])]),s[26]||(s[26]=t("div",{id:"userModal",class:"modal hidden",role:"dialog","aria-modal":"true","aria-labelledby":"userModalTitle"},[t("div",{class:"modal-backdrop",id:"userModalBackdrop"}),t("div",{class:"modal-content admin-modal",role:"document"},[t("div",{class:"modal-header"},[t("h3",{id:"userModalTitle"},"User"),t("button",{id:"userModalClose",class:"btn btn-ghost btn-icon",type:"button","aria-label":"Close"},[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})])])]),t("div",{class:"modal-body"},[t("div",{class:"form-grid"},[t("div",{class:"form-group"},[t("label",{for:"editEmail"},"Email"),t("input",{id:"editEmail",type:"email",autocomplete:"off"})]),t("div",{class:"form-group"},[t("label",{for:"editQuota"},"Storage quota (bytes)"),t("input",{id:"editQuota",type:"number",min:"0",step:"1"}),t("div",{class:"form-hint"},"Bytes (e.g. 1073741824 for 1 GiB)")])]),t("div",{class:"checkbox-row"},[t("label",{class:"checkbox-item"},[t("input",{type:"checkbox",id:"editActive"}),T(" Active")]),t("label",{class:"checkbox-item"},[t("input",{type:"checkbox",id:"editAdmin"}),T(" Admin")])]),t("div",{class:"admin-kv","aria-label":"User stats"},[t("div",{class:"card"},[t("div",{class:"kv-label"},"Storage"),t("div",{class:"kv-value",id:"detailStorage"},"-")]),t("div",{class:"card"},[t("div",{class:"kv-label"},"Videos"),t("div",{class:"kv-value",id:"detailVideos"},"-")]),t("div",{class:"card"},[t("div",{class:"kv-label"},"Images"),t("div",{class:"kv-value",id:"detailImages"},"-")]),t("div",{class:"card"},[t("div",{class:"kv-label"},"Active Sessions"),t("div",{class:"kv-value",id:"detailSessions"},"-")])]),t("div",{class:"login-attempts"},[t("h2",{style:{"margin-top":"8px"}},"Recent login attempts"),t("div",{class:"table-wrap",style:{"min-width":"0"}},[t("table",{"aria-label":"Login attempts table"},[t("thead",null,[t("tr",null,[t("th",null,"Time"),t("th",null,"Result"),t("th",null,"Reason"),t("th",null,"IP")])]),t("tbody",{id:"loginAttemptTbody"},[t("tr",null,[t("td",{colspan:"4",class:"meta-text"},"-")])])])])])]),t("div",{class:"modal-actions"},[t("button",{id:"deleteUserBtn",type:"button",class:"btn btn-secondary"},"Delete"),t("div",{style:{flex:"1"}}),t("button",{id:"cancelUserBtn",type:"button",class:"btn btn-secondary"},"Cancel"),t("button",{id:"saveUserBtn",type:"button",class:"btn btn-primary"},"Save")])])],-1)),y.value?(S(),x("div",dt,[t("div",{class:"modal-backdrop",onClick:A}),t("div",rt,[t("div",ct,[t("h3",null,B(u.value?"编辑目标类型":"添加目标类型"),1),t("button",{class:"btn btn-ghost btn-icon",type:"button",onClick:A,"aria-label":"Close"},[...s[15]||(s[15]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),t("div",ut,[t("div",mt,[s[16]||(s[16]=t("label",{for:"targetName"},"名称 *",-1)),C(t("input",{id:"targetName",type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>o.name=r),placeholder:"例如：主图、详情页"},null,512),[[$,o.name]])]),t("div",vt,[s[17]||(s[17]=t("label",{for:"targetPlaceholder"},"占位提示",-1)),C(t("textarea",{id:"targetPlaceholder","onUpdate:modelValue":s[3]||(s[3]=r=>o.placeholder=r),rows:"2",placeholder:"用户选择此类型后显示的输入提示"},null,512),[[$,o.placeholder]])]),t("div",gt,[s[18]||(s[18]=t("label",{for:"targetTemplate"},"默认模板",-1)),C(t("textarea",{id:"targetTemplate","onUpdate:modelValue":s[4]||(s[4]=r=>o.default_template=r),rows:"3",placeholder:"选择此类型后自动填充的默认描述文本"},null,512),[[$,o.default_template]])]),t("div",pt,[s[19]||(s[19]=t("label",{for:"targetSort"},"排序",-1)),C(t("input",{id:"targetSort",type:"number","onUpdate:modelValue":s[5]||(s[5]=r=>o.sort_order=r),min:"0",placeholder:"0"},null,512),[[$,o.sort_order,void 0,{number:!0}]]),s[20]||(s[20]=t("div",{class:"form-hint"},"数字越小排序越靠前",-1))])]),t("div",yt,[s[21]||(s[21]=t("div",{style:{flex:"1"}},null,-1)),t("button",{type:"button",class:"btn btn-secondary",onClick:A},"取消"),t("button",{type:"button",class:"btn btn-primary",onClick:P,disabled:I.value},B(I.value?"保存中...":"保存"),9,bt)])])])):F("",!0),d.value?(S(),x("div",ft,[t("div",{class:"modal-backdrop",onClick:s[6]||(s[6]=r=>d.value=!1)}),t("div",ht,[s[25]||(s[25]=t("div",{class:"modal-header"},[t("h3",null,"确认删除")],-1)),t("div",wt,[t("p",null,[s[22]||(s[22]=T("确定要删除目标类型 ",-1)),t("strong",null,B((h=l.value)==null?void 0:h.name),1),s[23]||(s[23]=T(" 吗？此操作不可恢复。",-1))])]),t("div",_t,[s[24]||(s[24]=t("div",{style:{flex:"1"}},null,-1)),t("button",{type:"button",class:"btn btn-secondary",onClick:s[7]||(s[7]=r=>d.value=!1)},"取消"),t("button",{type:"button",class:"btn btn-primary btn-danger",onClick:D,disabled:w.value},B(w.value?"删除中...":"确认删除"),9,Et)])])])):F("",!0)])}}});(function(){function N(a){const n=`; ${document.cookie||""}`.split(`; ${a}=`);return n.length===2?n.pop().split(";").shift():null}function f(){const a=N("csrf_token");return a?{"X-CSRF-Token":a}:{}}function c(a){return String(a??"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}async function p(a){const e=await a.text();try{const n=JSON.parse(e);return(n==null?void 0:n.detail)||e}catch{return e}}function y(a){const e=Number(a||0);if(!Number.isFinite(e)||e<=0)return"0 B";const n=["B","KiB","MiB","GiB","TiB"];let b=e,m=0;for(;b>=1024&&m<n.length-1;)b/=1024,m+=1;const k=m===0?0:m<=2?1:2;return`${b.toFixed(k)} ${n[m]}`}function d(a){const e=document.getElementById("errorBanner");if(e){if(!a){e.style.display="none",e.textContent="";return}e.style.display="block",e.textContent=a}}function u(a){return a.status===401?(window.location.href="/login?next=/admin",!1):a.status===403?(window.location.href="/?error=Admin%20access%20required",!1):!0}const l={limit:50,offset:0,lastPageSize:0,selectedUserId:null,selectedUser:null,search:"",isActive:"",isAdmin:""};function I(){const a=new URLSearchParams;return a.set("limit",String(l.limit)),a.set("offset",String(l.offset)),l.search&&a.set("search",l.search),l.isActive!==""&&a.set("is_active",l.isActive),l.isAdmin!==""&&a.set("is_admin",l.isAdmin),a.toString()}async function w(){const a=await fetch("/api/v1/admin/stats",{credentials:"include"});if(!u(a))return;if(!a.ok)throw new Error(await p(a)||"Failed to load stats");const e=await a.json();document.getElementById("statTotalUsers").textContent=String(e.total_user_count??0),document.getElementById("statActiveUsers").textContent=String(e.active_user_count??0),document.getElementById("statStorageUsed").textContent=y(e.total_storage_used_bytes),document.getElementById("statStorageQuota").textContent=y(e.total_storage_quota_bytes),document.getElementById("statVideos").textContent=String(e.total_video_count??0),document.getElementById("statImages").textContent=String(e.total_image_count??0),document.getElementById("statSessions").textContent=String(e.active_session_count??0)}function o(a,e){return`<span class="pill ${e}">${c(a)}</span>`}function U(a){const e=document.getElementById("userTbody");if(e){if(!Array.isArray(a)||a.length===0){e.innerHTML='<tr><td colspan="8" class="meta-text">No users found.</td></tr>';return}e.innerHTML=a.map(n=>{const b=n.is_active?o("Active","pill-green"):o("Inactive","pill-red"),m=n.is_admin?o("Admin","pill-blue"):o("User","pill-gray"),k=`${y(n.storage_used_bytes)} / ${y(n.storage_quota_bytes)}`,g=n.created_at?new Date(n.created_at).toLocaleString():"-",q=n.last_login_at?new Date(n.last_login_at).toLocaleString():"-";return`
                <tr>
                    <td>${c(n.username)}</td>
                    <td>${c(n.email)}</td>
                    <td>${b}</td>
                    <td>${m}</td>
                    <td>${c(k)}</td>
                    <td>${c(g)}</td>
                    <td>${c(q)}</td>
                    <td>
                        <div class="row-actions">
                            <button class="btn btn-secondary btn-sm" type="button" data-action="view" data-user-id="${c(n.id)}">View</button>
                            <button class="btn btn-secondary btn-sm" type="button" data-action="edit" data-user-id="${c(n.id)}">Edit</button>
                            <button class="btn btn-secondary btn-sm" type="button" data-action="delete" data-user-id="${c(n.id)}">Delete</button>
                        </div>
                    </td>
                </tr>
            `}).join("")}}async function v(){const a=await fetch(`/api/v1/admin/users?${I()}`,{credentials:"include"});if(!u(a))return;if(!a.ok)throw new Error(await p(a)||"Failed to load users");const e=await a.json();l.lastPageSize=Array.isArray(e)?e.length:0,U(e),L()}function L(){const a=document.getElementById("pageLabel");a&&(a.textContent=`Page ${Math.floor(l.offset/l.limit)+1}`);const e=document.getElementById("prevPageBtn"),n=document.getElementById("nextPageBtn");e&&(e.disabled=l.offset<=0),n&&(n.disabled=l.lastPageSize<l.limit)}function E(a){const e=document.getElementById("userModal");e&&e.classList.toggle("hidden",!a)}function A(a){const e=document.getElementById("loginAttemptTbody");if(e){if(!Array.isArray(a)||a.length===0){e.innerHTML='<tr><td colspan="4" class="meta-text">No login attempts.</td></tr>';return}e.innerHTML=a.map(n=>{const b=n.created_at?new Date(n.created_at).toLocaleString():"-",m=n.success?o("Success","pill-green"):o("Failed","pill-red"),k=n.failure_reason?c(n.failure_reason):"-",g=n.ip_address?c(n.ip_address):"-";return`<tr><td>${c(b)}</td><td>${m}</td><td>${k}</td><td>${g}</td></tr>`}).join("")}}async function P(a){const e=await fetch(`/api/v1/admin/users/${encodeURIComponent(a)}`,{credentials:"include"});if(!u(e))return null;if(!e.ok)throw new Error(await p(e)||"Failed to load user");return await e.json()}async function M(a){d("");const e=await P(a);e&&(l.selectedUserId=a,l.selectedUser=e,document.getElementById("userModalTitle").textContent=`User: ${e.username}`,document.getElementById("editEmail").value=e.email||"",document.getElementById("editQuota").value=String(e.storage_quota_bytes??0),document.getElementById("editActive").checked=!!e.is_active,document.getElementById("editAdmin").checked=!!e.is_admin,document.getElementById("detailStorage").textContent=`${y(e.storage_used_bytes)} / ${y(e.storage_quota_bytes)}`,document.getElementById("detailVideos").textContent=String(e.total_video_count??0),document.getElementById("detailImages").textContent=String(e.total_image_count??0),document.getElementById("detailSessions").textContent=String(e.active_session_count??0),A(e.recent_login_attempts||[]),E(!0))}async function D(){if(!l.selectedUserId)return;const a={email:String(document.getElementById("editEmail").value||"").trim(),is_active:!!document.getElementById("editActive").checked,is_admin:!!document.getElementById("editAdmin").checked,storage_quota_bytes:Number(document.getElementById("editQuota").value||0)},e=await fetch(`/api/v1/admin/users/${encodeURIComponent(l.selectedUserId)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",...f()},body:JSON.stringify(a)});if(u(e)){if(!e.ok)throw new Error(await p(e)||"Failed to update user");E(!1),l.selectedUserId=null,l.selectedUser=null,await v()}}async function i(){if(!l.selectedUserId||!confirm("Delete this user permanently?"))return;const a=await fetch(`/api/v1/admin/users/${encodeURIComponent(l.selectedUserId)}`,{method:"DELETE",credentials:"include",headers:{...f()}});if(u(a)){if(!a.ok)throw new Error(await p(a)||"Failed to delete user");E(!1),l.selectedUserId=null,l.selectedUser=null,await w(),await v()}}function s(a,e){let n=null;return(...b)=>{n&&clearTimeout(n),n=setTimeout(()=>a(...b),e)}}function h(){document.getElementById("refreshBtn").addEventListener("click",async()=>{d("");try{await w(),await v()}catch(e){d((e==null?void 0:e.message)||String(e))}});const a=async()=>{l.offset=0,l.search=String(document.getElementById("searchInput").value||"").trim(),l.isActive=String(document.getElementById("filterActive").value||""),l.isAdmin=String(document.getElementById("filterAdmin").value||""),d("");try{await v()}catch(e){d((e==null?void 0:e.message)||String(e))}};document.getElementById("searchInput").addEventListener("input",s(a,250)),document.getElementById("filterActive").addEventListener("change",a),document.getElementById("filterAdmin").addEventListener("change",a),document.getElementById("prevPageBtn").addEventListener("click",async()=>{l.offset=Math.max(0,l.offset-l.limit),d("");try{await v()}catch(e){d((e==null?void 0:e.message)||String(e))}}),document.getElementById("nextPageBtn").addEventListener("click",async()=>{l.offset+=l.limit,d("");try{await v()}catch(e){d((e==null?void 0:e.message)||String(e))}}),document.getElementById("userTbody").addEventListener("click",async e=>{var k;const n=(k=e.target)==null?void 0:k.closest("button[data-action][data-user-id]");if(!n)return;const b=n.getAttribute("data-action"),m=n.getAttribute("data-user-id");if(m){d("");try{if(b==="delete"){if(!confirm("Delete this user permanently?"))return;const g=await fetch(`/api/v1/admin/users/${encodeURIComponent(m)}`,{method:"DELETE",credentials:"include",headers:{...f()}});if(!u(g))return;if(!g.ok)throw new Error(await p(g)||"Failed to delete user");await w(),await v();return}await M(m)}catch(g){d((g==null?void 0:g.message)||String(g))}}}),document.getElementById("userModalClose").addEventListener("click",()=>E(!1)),document.getElementById("userModalBackdrop").addEventListener("click",()=>E(!1)),document.getElementById("cancelUserBtn").addEventListener("click",()=>E(!1)),document.getElementById("saveUserBtn").addEventListener("click",async()=>{d("");try{await D()}catch(e){d((e==null?void 0:e.message)||String(e))}}),document.getElementById("deleteUserBtn").addEventListener("click",async()=>{d("");try{await i()}catch(e){d((e==null?void 0:e.message)||String(e))}})}async function r(){d("");try{await w(),await v()}catch(a){d((a==null?void 0:a.message)||String(a))}h()}document.addEventListener("DOMContentLoaded",r)})();J(kt).mount("#app");
