import{d as et,r as g,j as E,k as K,o as tt,c as l,a as i,b as t,e as v,f as F,i as C,w as p,p as Te,q as fe,v as $,F as f,m as b,n as T,t as r,s as oe,h as ae,l as k,u as st,g as nt}from"./runtime-dom.esm-bundler-CzCxjph-.js";/* empty css                        */const lt={class:"ecommerce-image-page"},it={class:"header"},ot={class:"header-actions"},at={class:"main-container"},rt={class:"sidebar"},dt={key:0,class:"sidebar-section"},ct={class:"form-group"},ut={class:"input-wrapper"},pt=["type"],vt={class:"form-group"},mt={class:"input-wrapper"},gt=["type"],ht={class:"sidebar-section"},yt={class:"form-group",style:{"margin-top":"16px"}},ft={class:"form-group"},bt={class:"sidebar-section"},kt={class:"search-wrapper"},wt={key:0,class:"product-list"},xt=["onClick"],_t=["src","alt"],Ct={class:"product-info"},Tt={class:"product-name"},Bt={class:"product-meta"},Vt={key:1,class:"product-list-empty"},Ut={key:2,class:"product-list-loading"},St={key:3,class:"pagination"},$t=["disabled"],Mt={class:"page-info"},Pt=["disabled"],It={key:1,class:"sidebar-section"},Kt={class:"section-title"},At={key:0,class:"image-grid"},zt=["onClick"],Lt=["src"],Ot={key:0,class:"image-check"},jt={key:1,class:"image-primary"},Et={key:1,class:"no-images"},Dt={class:"main-content"},Ht={class:"workflow-section"},Rt={class:"content-panel"},Ft={class:"panel-header"},Nt={key:0,class:"panel-hint"},Jt={key:0,class:"product-fields"},qt={class:"field-row"},Xt={class:"field-checkbox"},Gt=["disabled"],Zt={class:"field-row"},Qt={class:"field-checkbox"},Wt=["disabled"],Yt={class:"field-row"},es={class:"field-checkbox"},ts=["disabled"],ss={class:"field-row"},ns={class:"field-checkbox"},ls=["disabled"],is={key:1,class:"panel-empty"},os={class:"workflow-section"},as={class:"content-panel"},rs={class:"template-modules"},ds={class:"template-module"},cs={class:"module-header"},us={class:"option-chips"},ps=["onClick"],vs=["onUpdate:modelValue","data-option-id","onKeydown"],ms=["onClick"],gs=["onClick"],hs={class:"template-module"},ys={class:"module-header"},fs={class:"option-chips"},bs=["onClick"],ks=["onUpdate:modelValue","data-option-id","onKeydown"],ws=["onClick"],xs=["onClick"],_s={class:"template-module"},Cs={class:"module-header"},Ts={class:"option-chips"},Bs=["onClick"],Vs=["onUpdate:modelValue","data-option-id","onKeydown"],Us=["onClick"],Ss=["onClick"],$s={class:"template-module"},Ms={class:"module-header"},Ps={class:"option-chips"},Is=["onClick"],Ks=["onUpdate:modelValue","data-option-id","onKeydown"],As=["onClick"],zs=["onClick"],Ls={class:"template-editor"},Os={class:"template-editor-section"},js={class:"variable-reference"},Es={class:"variable-chips"},Ds=["onClick","title"],Hs=["textContent"],Rs={key:0,class:"variable-value"},Fs={class:"workflow-section"},Ns={class:"content-panel prompt-preview-panel"},Js={class:"panel-header"},qs={key:0,class:"panel-hint"},Xs={class:"prompt-structured"},Gs={class:"prompt-row"},Zs={key:1,class:"prompt-empty"},Qs={class:"prompt-row"},Ws={key:1,class:"prompt-empty"},Ys={class:"prompt-row"},en={key:1,class:"prompt-empty"},tn={class:"prompt-row"},sn={key:1,class:"prompt-empty"},nn={class:"prompt-row"},ln={key:1,class:"prompt-empty"},on={class:"prompt-full"},an={class:"prompt-full-header"},rn=["disabled"],dn={class:"prompt-full-body"},cn={key:0},un={key:1,class:"prompt-placeholder"},pn={class:"workflow-section"},vn={class:"content-panel"},mn={class:"panel-header"},gn={key:0,class:"panel-hint"},hn={class:"result-area"},yn={key:0,class:"result-placeholder"},fn={key:1,class:"loading-state"},bn={key:2,class:"result-container"},kn=["src"],wn={class:"generate-section"},xn=["disabled"],_n={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Cn={key:1,class:"spinner-small"},Tn={key:0,class:"generate-hint"},Bn={class:"toast-container"},Be="{{product_name}}{{dimensions|}}，{{features|}}{{characteristics|}}，{{scene|}}，{{angle|}}，{{style|}}，{{target|}}，高清产品摄影",re=10,Vn=et({__name:"ecommerce-image-page",setup(Un){const A={scene:[{id:"scene-white",label:"白色背景"},{id:"scene-natural-table",label:"自然光桌面"},{id:"scene-outdoor",label:"户外场景"},{id:"scene-solid",label:"纯色背景"},{id:"scene-life",label:"生活场景"}],angle:[{id:"angle-front",label:"正面"},{id:"angle-45",label:"45度侧面"},{id:"angle-top",label:"俯视"},{id:"angle-eye",label:"平视"},{id:"angle-close",label:"特写"}],style:[{id:"style-soft",label:"柔和光影"},{id:"style-contrast",label:"高对比度"},{id:"style-natural",label:"自然光"},{id:"style-studio",label:"专业棚拍"},{id:"style-warm",label:"暖色调"}],target:[{id:"target-main",label:"主图"},{id:"target-detail",label:"详情页"},{id:"target-poster",label:"海报"},{id:"target-white",label:"白底图"},{id:"target-scene",label:"场景图"}]},de=g(!1),ce=g(!1),ue=g(!1),B=E({apiKey:"",baseUrl:""}),V=E({model:"gpt-image-1.5",aspectRatio:"",imageSize:""}),q=g([]),X=g(!1),G=g(""),M=g(1),pe=g(0),z=g(null),U=g([]),w=g([]),c=E({name:"",dimensions:"",featuresText:"",characteristicsText:""}),u=E({name:!0,dimensions:!0,features:!0,characteristics:!0}),d=E({scene:A.scene.map(n=>({...n})),angle:A.angle.map(n=>({...n})),style:A.style.map(n=>({...n})),target:A.target.map(n=>({...n}))}),x=E({scene:[],angle:[],style:[],target:[]}),m=E({category:"",id:""}),j=g(Be),S=g(!1),D=g(""),H=g(""),Z=g([]),ve=K(()=>Math.ceil(pe.value/re));function me(n){return globalThis.crypto&&"randomUUID"in globalThis.crypto?`${n}-${globalThis.crypto.randomUUID()}`:`${n}-${Date.now()}-${Math.random().toString(16).slice(2)}`}function Q(n){return n.split(`
`).map(e=>e.trim()).filter(Boolean)}function R(n){return n.filter(Boolean).join("、")}function W(n){const e=new Set(x[n]);return d[n].filter(s=>e.has(s.id)).map(s=>s.label.trim()).filter(Boolean)}function _(n,e){return m.category===n&&m.id===e}const L=K(()=>({scene:W("scene"),angle:W("angle"),style:W("style"),target:W("target")})),Ve=K(()=>{const n=[],e=c.name.trim(),s=c.dimensions.trim();return u.name&&e&&n.push(e),u.dimensions&&s&&n.push(s),u.features&&n.push(...Q(c.featuresText)),u.characteristics&&n.push(...Q(c.characteristicsText)),n}),h=K(()=>({product:Ve.value,scene:L.value.scene,angle:L.value.angle,style:L.value.style,target:L.value.target})),be=K(()=>{const n=u.features?Q(c.featuresText):[],e=u.characteristics?Q(c.characteristicsText):[];return{product_name:u.name?c.name.trim():"",dimensions:u.dimensions?c.dimensions.trim():"",features:R(n),characteristics:R(e),scene:R(L.value.scene),angle:R(L.value.angle),style:R(L.value.style),target:R(L.value.target)}}),Ue=K(()=>{const n=be.value;return[{name:"product_name",description:"产品名称",currentValue:n.product_name},{name:"dimensions",description:"尺寸规格",currentValue:n.dimensions},{name:"features",description:"功能特征（以、分隔）",currentValue:n.features},{name:"characteristics",description:"产品特点（以、分隔）",currentValue:n.characteristics},{name:"scene",description:"场景选择",currentValue:n.scene},{name:"angle",description:"拍摄角度",currentValue:n.angle},{name:"style",description:"风格/光影",currentValue:n.style},{name:"target",description:"生成目标",currentValue:n.target}]});function Se(n,e){return n.replace(/\{\{(\w+)(?:\|([^}]*))?\}\}/g,(s,o,a)=>{const y=e[o];return y&&y.trim()?y:a!==void 0?a:""}).replace(/[，、]{2,}/g,"，").replace(/^[，、\s]+/,"").replace(/[，、\s]+$/,"").replace(/\s*[，、]\s*/g,"，")}const P=K(()=>z.value?Se(j.value,be.value):""),ke=K(()=>z.value&&w.value.length>0&&P.value.length>0),Y=K(()=>S.value?"正在生成图片...":z.value?w.value.length===0?"请选择至少一张参考图片":P.value?"":"请完善模板选项或产品信息":"请先在左侧选择产品");function $e(){const n=document.cookie.match(/csrf_token=([^;]+)/);return n?n[1]:""}function Me(n){return String(n||"").trim().replace(/^bearer\s+/i,"").trim()}function Pe(n){return String(n||"").trim()||null}function we(n){if(!n||typeof n!="object")return null;if(Array.isArray(n.data)&&n.data[0]){const e=n.data[0];if(e!=null&&e.url)return e.url;if(e!=null&&e.b64_json)return`data:image/png;base64,${e.b64_json}`}return n.url?n.url:n.b64_json?`data:image/png;base64,${n.b64_json}`:n.image_url?n.image_url:null}async function ee(){X.value=!0;try{const n=new URLSearchParams({offset:String((M.value-1)*re),limit:String(re)});G.value&&n.set("name",G.value);const e=await fetch(`/api/v1/products?${n}`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch products");const s=await e.json();q.value=s.products||[],pe.value=s.total||0}catch{I("加载产品列表失败","error")}finally{X.value=!1}}function Ie(){M.value=1,ee()}function Ke(){M.value>1&&(M.value--,ee())}function Ae(){M.value<ve.value&&(M.value++,ee())}function ze(n){if(n.images&&n.images.length>0){const e=n.images.find(s=>s.is_primary);return e?e.image_url:n.images[0].image_url}return n.original_image_url||"/static/placeholder.png"}async function Le(n){z.value=n;try{const e=await fetch(`/api/v1/products/${n.id}`,{credentials:"include"});if(!e.ok)throw new Error("Failed to load product details");const s=await e.json();c.name=s.name||"",c.dimensions=s.dimensions||"",c.featuresText=(s.features||[]).join(`
`),c.characteristicsText=(s.characteristics||[]).join(`
`),U.value=s.images||[],U.value.length===0&&s.original_image_url&&(U.value=[{id:s.id,image_url:s.original_image_url,is_primary:!0}]);const o=U.value.find(a=>a.is_primary);o?w.value=[o.id]:U.value.length>0?w.value=[U.value[0].id]:w.value=[]}catch{I("加载产品详情失败","error")}}function Oe(n){const e=w.value.indexOf(n);e===-1?w.value.push(n):w.value.splice(e,1)}function je(n,e){return d[n].find(s=>s.id===e)??null}function Ee(n){st(()=>{const e=document.querySelector(`.option-edit-input[data-option-id="${n}"]`);e&&(e.focus(),e.select())})}function te(n,e){const s=x[n],o=s.indexOf(e);o===-1?s.push(e):s.splice(o,1)}function se(n){const e={id:me(n),label:"新选项"};d[n].push(e),ge(),J(n,e.id)}function N(n,e){const s=d[n].findIndex(a=>a.id===e);if(s===-1)return;d[n].splice(s,1);const o=x[n].indexOf(e);o!==-1&&x[n].splice(o,1),m.category===n&&m.id===e&&(m.category="",m.id=""),ge()}function J(n,e){m.category=n,m.id=e,Ee(e)}function O(){if(!m.category||!m.id)return;const n=m.category,e=m.id;m.category="",m.id="";const s=je(n,e);if(!s)return;const o=s.label.trim();if(!o){N(n,e);return}s.label=o,ge()}function De(){d.scene=A.scene.map(n=>({...n})),d.angle=A.angle.map(n=>({...n})),d.style=A.style.map(n=>({...n})),d.target=A.target.map(n=>({...n})),x.scene=[],x.angle=[],x.style=[],x.target=[],m.category="",m.id="",localStorage.removeItem("ecommerce-image-templates"),I("模板已重置为默认值","success")}function ge(){const n={version:2,templates:{scene:d.scene.map(e=>({id:e.id,label:e.label})),angle:d.angle.map(e=>({id:e.id,label:e.label})),style:d.style.map(e=>({id:e.id,label:e.label})),target:d.target.map(e=>({id:e.id,label:e.label}))}};localStorage.setItem("ecommerce-image-templates",JSON.stringify(n))}function ne(n,e){if(!Array.isArray(n))return null;const s=[];for(const o of n){if(typeof o=="string"){const a=o.trim();a&&s.push({id:me(e),label:a});continue}if(o&&typeof o=="object"){const a=typeof o.label=="string"?o.label.trim():"";if(!a)continue;const y=typeof o.id=="string"?String(o.id):me(e);s.push({id:y,label:a})}}return s.length?s:null}function He(){const n=localStorage.getItem("ecommerce-image-templates");if(n)try{const e=JSON.parse(n),s=(e==null?void 0:e.templates)||e,o=ne(s==null?void 0:s.scene,"scene"),a=ne(s==null?void 0:s.angle,"angle"),y=ne(s==null?void 0:s.style,"style"),le=ne(s==null?void 0:s.target,"target");o&&(d.scene=o),a&&(d.angle=a),y&&(d.style=y),le&&(d.target=le)}catch{}}function xe(){localStorage.setItem("ecommerce-image-prompt-template",j.value)}function Re(){const n=localStorage.getItem("ecommerce-image-prompt-template");n&&(j.value=n)}function Fe(){j.value=Be,localStorage.removeItem("ecommerce-image-prompt-template"),I("提示词模板已重置为默认值","success")}function Ne(n){j.value+=`{{${n}}}`,xe()}function Je(n,e=20){return n?n.length<=e?n:n.substring(0,e)+"...":""}function qe(){localStorage.setItem("ecommerce-image-api-config",JSON.stringify(B)),I("API 配置已保存","success")}function Xe(){B.apiKey="",B.baseUrl="",localStorage.removeItem("ecommerce-image-api-config"),I("API 配置已重置","success")}function Ge(){const n=localStorage.getItem("ecommerce-image-api-config");if(n)try{const e=JSON.parse(n);e.apiKey&&(B.apiKey=e.apiKey),e.baseUrl&&(B.baseUrl=e.baseUrl)}catch{}}async function Ze(){if(P.value)try{await navigator.clipboard.writeText(P.value),I("提示词已复制到剪贴板","success")}catch{I("复制失败","error")}}async function _e(){if(!(!ke.value||S.value)){S.value=!0,H.value="";try{const n=new FormData;n.append("prompt",P.value),n.append("model",V.model),n.append("response_format","url"),V.aspectRatio&&n.append("aspect_ratio",V.aspectRatio),V.imageSize&&n.append("image_size",V.imageSize);for(const ie of w.value){const he=U.value.find(ye=>ye.id===ie);if(he)try{const Ye=await(await fetch(he.image_url)).blob();n.append("image",Ye,`ref-${ie}.jpg`)}catch{console.warn("Failed to fetch reference image:",he.image_url)}}const e={"X-CSRF-Token":$e()},s=Me(B.apiKey);s&&(e["X-API-Key"]=s);const o=Pe(B.baseUrl);o&&(e["X-Base-Url"]=o);const a=await fetch("/api/v1/images/edits",{method:"POST",credentials:"include",headers:e,body:n});if(!a.ok){const ie=await a.json().catch(()=>({}));throw new Error(ie.detail||`HTTP ${a.status}`)}const y=await a.json(),le=y&&typeof y=="object"&&y.response?y.response:y,Ce=we(le)||we(y);if(Ce)D.value=Ce;else throw new Error("Invalid response format");I("图片生成成功","success")}catch(n){H.value=n.message||"生成失败，请重试"}finally{S.value=!1}}}function Qe(){if(!D.value)return;const n=document.createElement("a");n.href=D.value,n.download=`ecommerce-${Date.now()}.png`,document.body.appendChild(n),n.click(),document.body.removeChild(n)}let We=0;function I(n,e="info"){const s=We++;Z.value.push({id:s,message:n,type:e}),setTimeout(()=>{const o=Z.value.findIndex(a=>a.id===s);o!==-1&&Z.value.splice(o,1)},3e3)}return tt(()=>{He(),Re(),Ge(),ee()}),(n,e)=>(i(),l("div",lt,[t("header",it,[e[27]||(e[27]=F('<div class="logo"><div class="logo-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg></div><span>电商图生成</span></div>',1)),t("div",ot,[e[26]||(e[26]=t("a",{href:"/",class:"btn btn-secondary",style:{"text-decoration":"none",display:"flex","align-items":"center",gap:"8px"}},[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M19 12H5M12 19l-7-7 7-7"})]),C(" 返回主页面 ")],-1)),t("button",{class:"btn btn-ghost btn-icon",onClick:e[0]||(e[0]=s=>de.value=!de.value),title:"Settings"},[...e[25]||(e[25]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"3"}),t("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1)])])])]),t("div",at,[t("aside",rt,[de.value?(i(),l("section",dt,[e[32]||(e[32]=t("div",{class:"section-title"},[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),t("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4"})]),C(" API Configuration ")],-1)),t("div",ct,[e[29]||(e[29]=t("label",{class:"form-label"},"API Key",-1)),t("div",ut,[p(t("input",{type:ce.value?"text":"password",class:"form-input","onUpdate:modelValue":e[1]||(e[1]=s=>B.apiKey=s),placeholder:"Enter your API key"},null,8,pt),[[Te,B.apiKey]]),t("button",{class:"toggle-visibility",onClick:e[2]||(e[2]=s=>ce.value=!ce.value)},[...e[28]||(e[28]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1)])])])]),t("div",vt,[e[31]||(e[31]=t("label",{class:"form-label"},"Base URL",-1)),t("div",mt,[p(t("input",{type:ue.value?"text":"password",class:"form-input","onUpdate:modelValue":e[3]||(e[3]=s=>B.baseUrl=s),placeholder:"https://api.example.com"},null,8,gt),[[Te,B.baseUrl]]),t("button",{class:"toggle-visibility",onClick:e[4]||(e[4]=s=>ue.value=!ue.value)},[...e[30]||(e[30]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1)])])])]),t("div",{class:"btn-group"},[t("button",{class:"btn btn-primary btn-sm",onClick:qe},"Save"),t("button",{class:"btn btn-secondary btn-sm",onClick:Xe},"Reset")])])):v("",!0),t("section",ht,[e[38]||(e[38]=F('<div class="section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg> Model Selection </div>',1)),p(t("select",{class:"form-select","onUpdate:modelValue":e[5]||(e[5]=s=>V.model=s)},[...e[33]||(e[33]=[F('<option value="gpt-image-1.5">gpt-image-1.5</option><option value="nano-banana-2-4k">nano-banana-2-4k</option><option value="nano-banana-2-2k">nano-banana-2-2k</option><option value="nano-banana-2">nano-banana-2</option><option value="nano-banana">nano-banana</option>',5)])],512),[[fe,V.model]]),t("div",yt,[e[35]||(e[35]=t("label",{class:"form-label"},"Aspect Ratio",-1)),p(t("select",{class:"form-select","onUpdate:modelValue":e[6]||(e[6]=s=>V.aspectRatio=s)},[...e[34]||(e[34]=[F('<option value="">Auto</option><option value="1:1">1:1 (Square)</option><option value="16:9">16:9 (Landscape)</option><option value="9:16">9:16 (Portrait)</option><option value="4:3">4:3</option><option value="3:4">3:4</option><option value="3:2">3:2</option><option value="2:3">2:3</option><option value="4:5">4:5</option><option value="5:4">5:4</option>',10)])],512),[[fe,V.aspectRatio]])]),t("div",ft,[e[37]||(e[37]=t("label",{class:"form-label"},"Image Size",-1)),p(t("select",{class:"form-select","onUpdate:modelValue":e[7]||(e[7]=s=>V.imageSize=s)},[...e[36]||(e[36]=[t("option",{value:""},"Default",-1),t("option",{value:"1K"},"1K",-1),t("option",{value:"2K"},"2K",-1),t("option",{value:"4K"},"4K",-1)])],512),[[fe,V.imageSize]])])]),t("section",bt,[e[44]||(e[44]=F('<div class="section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 7H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Z"></path><path d="M9 2v5"></path><path d="M15 2v5"></path><path d="M2 9h20"></path></svg> 选择产品 </div>',1)),t("div",kt,[e[39]||(e[39]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1)),p(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[8]||(e[8]=s=>G.value=s),placeholder:"搜索产品...",onInput:Ie},null,544),[[$,G.value]])]),!X.value&&q.value.length>0?(i(),l("div",wt,[(i(!0),l(f,null,b(q.value,s=>{var o;return i(),l("div",{key:s.id,class:T(["product-item",{selected:((o=z.value)==null?void 0:o.id)===s.id}]),onClick:a=>Le(s)},[t("img",{src:ze(s),alt:s.name,class:"product-thumb"},null,8,_t),t("div",Ct,[t("div",Tt,r(s.name||"未命名产品"),1),t("div",Bt,r(s.dimensions||""),1)])],10,xt)}),128))])):!X.value&&q.value.length===0?(i(),l("div",Vt,[...e[40]||(e[40]=[t("p",null,"暂无产品",-1),t("a",{href:"/products",class:"btn btn-secondary btn-sm"},"前往产品库",-1)])])):(i(),l("div",Ut,[...e[41]||(e[41]=[t("div",{class:"spinner-small"},null,-1),t("span",null,"加载中...",-1)])])),pe.value>re?(i(),l("div",St,[t("button",{class:"btn btn-ghost btn-sm",disabled:M.value<=1,onClick:Ke},[...e[42]||(e[42]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"15 18 9 12 15 6"})],-1)])],8,$t),t("span",Mt,r(M.value)+" / "+r(ve.value),1),t("button",{class:"btn btn-ghost btn-sm",disabled:M.value>=ve.value,onClick:Ae},[...e[43]||(e[43]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"9 18 15 12 9 6"})],-1)])],8,Pt)])):v("",!0)]),z.value?(i(),l("section",It,[t("div",Kt,[e[45]||(e[45]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t("polyline",{points:"21 15 16 10 5 21"})],-1)),C(" 参考图片 ("+r(w.value.length)+"/"+r(U.value.length)+") ",1)]),U.value.length>0?(i(),l("div",At,[(i(!0),l(f,null,b(U.value,s=>(i(),l("div",{key:s.id,class:T(["image-item",{selected:w.value.includes(s.id)}]),onClick:o=>Oe(s.id)},[t("img",{src:s.image_url,alt:"Product image"},null,8,Lt),w.value.includes(s.id)?(i(),l("div",Ot,[...e[46]||(e[46]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"3"},[t("polyline",{points:"20 6 9 17 4 12"})],-1)])])):v("",!0),s.is_primary?(i(),l("div",jt,"主图")):v("",!0)],10,zt))),128))])):(i(),l("div",Et,[...e[47]||(e[47]=[t("p",null,"该产品暂无图片",-1)])]))])):v("",!0)]),t("main",Dt,[t("section",Ht,[t("div",Rt,[t("div",Ft,[e[48]||(e[48]=t("div",{class:"panel-title"},[t("span",{class:"step-indicator"},"1"),t("div",null,[t("h3",null,"产品信息"),t("p",{class:"panel-subtitle"},"勾选要包含在提示词中的字段")])],-1)),z.value?v("",!0):(i(),l("span",Nt,"请先从左侧选择产品"))]),z.value?(i(),l("div",Jt,[t("div",qt,[t("label",Xt,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=s=>u.name=s)},null,512),[[oe,u.name]]),e[49]||(e[49]=t("span",null,"产品名称",-1))]),p(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[10]||(e[10]=s=>c.name=s),disabled:!u.name,placeholder:"例如：保温杯"},null,8,Gt),[[$,c.name]])]),t("div",Zt,[t("label",Qt,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=s=>u.dimensions=s)},null,512),[[oe,u.dimensions]]),e[50]||(e[50]=t("span",null,"尺寸规格",-1))]),p(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[12]||(e[12]=s=>c.dimensions=s),disabled:!u.dimensions,placeholder:"例如：500ml"},null,8,Wt),[[$,c.dimensions]])]),t("div",Yt,[t("label",es,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=s=>u.features=s)},null,512),[[oe,u.features]]),e[51]||(e[51]=t("span",null,"功能特征",-1))]),p(t("textarea",{class:"form-input","onUpdate:modelValue":e[14]||(e[14]=s=>c.featuresText=s),disabled:!u.features,rows:"2",placeholder:"每行一个特征"},null,8,ts),[[$,c.featuresText]])]),t("div",ss,[t("label",ns,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=s=>u.characteristics=s)},null,512),[[oe,u.characteristics]]),e[52]||(e[52]=t("span",null,"产品特点",-1))]),p(t("textarea",{class:"form-input","onUpdate:modelValue":e[16]||(e[16]=s=>c.characteristicsText=s),disabled:!u.characteristics,rows:"2",placeholder:"每行一个特点"},null,8,ls),[[$,c.characteristicsText]])])])):(i(),l("div",is," 选择产品后将自动填充名称、规格与特征信息。 "))])]),t("section",os,[t("div",as,[t("div",{class:"panel-header"},[e[54]||(e[54]=t("div",{class:"panel-title"},[t("span",{class:"step-indicator"},"2"),t("div",null,[t("h3",null,"模板与标签"),t("p",{class:"panel-subtitle"},"点击标签可多选，支持就地编辑")])],-1)),t("button",{class:"btn btn-ghost btn-sm",onClick:De},[...e[53]||(e[53]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"1 4 1 10 7 10"}),t("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})],-1),C(" 重置模板 ",-1)])])]),t("div",rs,[t("div",ds,[t("div",cs,[e[56]||(e[56]=t("span",{class:"module-title"},"场景选择",-1)),t("button",{class:"btn btn-ghost btn-icon-sm",onClick:e[17]||(e[17]=s=>se("scene"))},[...e[55]||(e[55]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])])]),t("div",us,[(i(!0),l(f,null,b(d.scene,s=>(i(),l("div",{key:s.id,class:T(["option-chip",{selected:x.scene.includes(s.id),editing:_("scene",s.id)}])},[_("scene",s.id)?p((i(),l("input",{key:1,type:"text",class:"option-edit-input","onUpdate:modelValue":o=>s.label=o,"data-option-id":s.id,onBlur:O,onKeydown:ae(k(O,["prevent"]),["enter"])},null,40,vs)),[[$,s.label]]):(i(),l("span",{key:0,onClick:o=>te("scene",s.id)},r(s.label),9,ps)),_("scene",s.id)?v("",!0):(i(),l("button",{key:2,class:"chip-edit",onClick:k(o=>J("scene",s.id),["stop"])},[...e[57]||(e[57]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,ms)),t("button",{class:"chip-delete",onClick:k(o=>N("scene",s.id),["stop"])},[...e[58]||(e[58]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,gs)],2))),128))])]),t("div",hs,[t("div",ys,[e[60]||(e[60]=t("span",{class:"module-title"},"拍摄角度",-1)),t("button",{class:"btn btn-ghost btn-icon-sm",onClick:e[18]||(e[18]=s=>se("angle"))},[...e[59]||(e[59]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])])]),t("div",fs,[(i(!0),l(f,null,b(d.angle,s=>(i(),l("div",{key:s.id,class:T(["option-chip",{selected:x.angle.includes(s.id),editing:_("angle",s.id)}])},[_("angle",s.id)?p((i(),l("input",{key:1,type:"text",class:"option-edit-input","onUpdate:modelValue":o=>s.label=o,"data-option-id":s.id,onBlur:O,onKeydown:ae(k(O,["prevent"]),["enter"])},null,40,ks)),[[$,s.label]]):(i(),l("span",{key:0,onClick:o=>te("angle",s.id)},r(s.label),9,bs)),_("angle",s.id)?v("",!0):(i(),l("button",{key:2,class:"chip-edit",onClick:k(o=>J("angle",s.id),["stop"])},[...e[61]||(e[61]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,ws)),t("button",{class:"chip-delete",onClick:k(o=>N("angle",s.id),["stop"])},[...e[62]||(e[62]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,xs)],2))),128))])]),t("div",_s,[t("div",Cs,[e[64]||(e[64]=t("span",{class:"module-title"},[C("风格 / 光影 "),t("span",{class:"optional-tag"},"(可选)")],-1)),t("button",{class:"btn btn-ghost btn-icon-sm",onClick:e[19]||(e[19]=s=>se("style"))},[...e[63]||(e[63]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])])]),t("div",Ts,[(i(!0),l(f,null,b(d.style,s=>(i(),l("div",{key:s.id,class:T(["option-chip",{selected:x.style.includes(s.id),editing:_("style",s.id)}])},[_("style",s.id)?p((i(),l("input",{key:1,type:"text",class:"option-edit-input","onUpdate:modelValue":o=>s.label=o,"data-option-id":s.id,onBlur:O,onKeydown:ae(k(O,["prevent"]),["enter"])},null,40,Vs)),[[$,s.label]]):(i(),l("span",{key:0,onClick:o=>te("style",s.id)},r(s.label),9,Bs)),_("style",s.id)?v("",!0):(i(),l("button",{key:2,class:"chip-edit",onClick:k(o=>J("style",s.id),["stop"])},[...e[65]||(e[65]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Us)),t("button",{class:"chip-delete",onClick:k(o=>N("style",s.id),["stop"])},[...e[66]||(e[66]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,Ss)],2))),128))])]),t("div",$s,[t("div",Ms,[e[68]||(e[68]=t("span",{class:"module-title"},"生成目标",-1)),t("button",{class:"btn btn-ghost btn-icon-sm",onClick:e[20]||(e[20]=s=>se("target"))},[...e[67]||(e[67]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])])]),t("div",Ps,[(i(!0),l(f,null,b(d.target,s=>(i(),l("div",{key:s.id,class:T(["option-chip",{selected:x.target.includes(s.id),editing:_("target",s.id)}])},[_("target",s.id)?p((i(),l("input",{key:1,type:"text",class:"option-edit-input","onUpdate:modelValue":o=>s.label=o,"data-option-id":s.id,onBlur:O,onKeydown:ae(k(O,["prevent"]),["enter"])},null,40,Ks)),[[$,s.label]]):(i(),l("span",{key:0,onClick:o=>te("target",s.id)},r(s.label),9,Is)),_("target",s.id)?v("",!0):(i(),l("button",{key:2,class:"chip-edit",onClick:k(o=>J("target",s.id),["stop"])},[...e[69]||(e[69]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,As)),t("button",{class:"chip-delete",onClick:k(o=>N("target",s.id),["stop"])},[...e[70]||(e[70]=[t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,zs)],2))),128))])])]),t("div",Ls,[t("div",{class:"template-editor-header"},[e[72]||(e[72]=t("div",null,[t("h4",null,"提示词模板"),t("p",{class:"template-editor-subtitle"},"自定义提示词结构，可插入变量")],-1)),t("button",{class:"btn btn-ghost btn-sm",onClick:Fe},[...e[71]||(e[71]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"1 4 1 10 7 10"}),t("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})],-1),C(" 重置模板 ",-1)])])]),t("div",Os,[e[74]||(e[74]=t("div",{class:"template-editor-hint"},[C(" 使用 "),t("code",{textContent:"{{变量名}}"}),C(" 插入变量，支持默认值： "),t("code",{textContent:"{{变量名|默认值}}"})],-1)),p(t("textarea",{class:"form-input template-textarea","onUpdate:modelValue":e[21]||(e[21]=s=>j.value=s),rows:"4",placeholder:"输入提示词模板...",onInput:xe},null,544),[[$,j.value]]),t("div",js,[e[73]||(e[73]=t("div",{class:"variable-title"},"可用变量",-1)),t("div",Es,[(i(!0),l(f,null,b(Ue.value,s=>(i(),l("span",{class:"variable-chip",key:s.name,onClick:o=>Ne(s.name),title:s.description},[t("code",{textContent:r("{{"+s.name+"}}")},null,8,Hs),s.currentValue?(i(),l("span",Rs,r(Je(s.currentValue)),1)):v("",!0)],8,Ds))),128))])])])])])]),t("section",Fs,[t("div",Ns,[t("div",Js,[e[75]||(e[75]=t("div",{class:"panel-title"},[t("span",{class:"step-indicator"},"3"),t("div",null,[t("h3",null,"提示词预览"),t("p",{class:"panel-subtitle"},"分段预览并高亮关键变量")])],-1)),P.value?v("",!0):(i(),l("span",qs,"完善产品信息与模板后自动生成"))]),t("div",Xs,[t("div",Gs,[e[76]||(e[76]=t("span",{class:"prompt-label"},"产品信息",-1)),t("div",{class:T(["prompt-value",{empty:h.value.product.length===0}])},[h.value.product.length?(i(!0),l(f,{key:0},b(h.value.product,(s,o)=>(i(),l("span",{key:`product-${o}`,class:"prompt-chip"},r(s),1))),128)):(i(),l("span",Zs,"未选择或未填写"))],2)]),t("div",Qs,[e[77]||(e[77]=t("span",{class:"prompt-label"},"场景",-1)),t("div",{class:T(["prompt-value",{empty:h.value.scene.length===0}])},[h.value.scene.length?(i(!0),l(f,{key:0},b(h.value.scene,(s,o)=>(i(),l("span",{key:`scene-${o}`,class:"prompt-chip"},r(s),1))),128)):(i(),l("span",Ws,"未选择场景"))],2)]),t("div",Ys,[e[78]||(e[78]=t("span",{class:"prompt-label"},"角度",-1)),t("div",{class:T(["prompt-value",{empty:h.value.angle.length===0}])},[h.value.angle.length?(i(!0),l(f,{key:0},b(h.value.angle,(s,o)=>(i(),l("span",{key:`angle-${o}`,class:"prompt-chip"},r(s),1))),128)):(i(),l("span",en,"未选择角度"))],2)]),t("div",tn,[e[79]||(e[79]=t("span",{class:"prompt-label"},"风格 / 光影",-1)),t("div",{class:T(["prompt-value",{empty:h.value.style.length===0}])},[h.value.style.length?(i(!0),l(f,{key:0},b(h.value.style,(s,o)=>(i(),l("span",{key:`style-${o}`,class:"prompt-chip"},r(s),1))),128)):(i(),l("span",sn,"未选择风格"))],2)]),t("div",nn,[e[80]||(e[80]=t("span",{class:"prompt-label"},"生成目标",-1)),t("div",{class:T(["prompt-value",{empty:h.value.target.length===0}])},[h.value.target.length?(i(!0),l(f,{key:0},b(h.value.target,(s,o)=>(i(),l("span",{key:`target-${o}`,class:"prompt-chip"},r(s),1))),128)):(i(),l("span",ln,"未选择目标"))],2)])]),t("div",on,[t("div",an,[e[82]||(e[82]=t("div",null,[t("h4",null,"完整 Prompt"),t("p",{class:"prompt-full-hint"},"可直接复制用于生成")],-1)),t("button",{class:"btn btn-ghost btn-sm",onClick:Ze,disabled:!P.value},[...e[81]||(e[81]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),t("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1),C(" 复制 ",-1)])],8,rn)]),t("div",dn,[P.value?(i(),l("p",cn,r(P.value),1)):(i(),l("p",un,"选择产品和模板选项后，提示词将在这里生成。"))])])])]),t("section",pn,[t("div",vn,[t("div",mn,[e[83]||(e[83]=t("div",{class:"panel-title"},[t("span",{class:"step-indicator"},"4"),t("div",null,[t("h3",null,"生成与结果"),t("p",{class:"panel-subtitle"},"确认参考图与提示词后开始生成")])],-1)),Y.value?(i(),l("span",gn,r(Y.value),1)):v("",!0)]),t("div",hn,[!S.value&&!D.value?(i(),l("div",yn,[...e[84]||(e[84]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t("polyline",{points:"21 15 16 10 5 21"})],-1),t("h3",null,"准备生成",-1),t("p",null,"选择产品、参考图片与模板选项，然后点击生成。",-1)])])):v("",!0),S.value?(i(),l("div",fn,[...e[85]||(e[85]=[t("div",{class:"spinner"},null,-1),t("p",null,"正在生成图片...",-1)])])):v("",!0),D.value&&!S.value?(i(),l("div",bn,[t("img",{src:D.value,alt:"Generated image",class:"result-image"},null,8,kn),t("div",{class:"result-actions"},[t("button",{class:"btn btn-secondary",onClick:Qe},[...e[86]||(e[86]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"7 10 12 15 17 10"}),t("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),C(" 下载 ",-1)])]),t("button",{class:"btn btn-primary",onClick:_e},[...e[87]||(e[87]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"1 4 1 10 7 10"}),t("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})],-1),C(" 重新生成 ",-1)])])])])):v("",!0)]),t("div",wn,[t("button",{class:"generate-btn",disabled:!ke.value||S.value,onClick:_e},[S.value?(i(),l("div",Cn)):(i(),l("svg",_n,[...e[88]||(e[88]=[t("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},null,-1)])])),C(" "+r(S.value?"生成中...":"生成电商图"),1)],8,xn),Y.value?(i(),l("div",Tn,r(Y.value),1)):v("",!0)])])])])]),t("div",Bn,[(i(!0),l(f,null,b(Z.value,s=>(i(),l("div",{key:s.id,class:T(["toast",s.type])},r(s.message),3))),128))]),H.value?(i(),l("div",{key:0,class:"error-overlay",onClick:e[24]||(e[24]=s=>H.value="")},[t("div",{class:"error-modal",onClick:e[23]||(e[23]=k(()=>{},["stop"]))},[e[89]||(e[89]=F('<div class="error-header"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg><h3>生成失败</h3></div>',1)),t("p",null,r(H.value),1),t("button",{class:"btn btn-primary",onClick:e[22]||(e[22]=s=>H.value="")},"确定")])])):v("",!0)]))}});nt(Vn).mount("#app");
