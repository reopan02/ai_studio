:root{--primary: #6366f1;--primary-hover: #4f46e5;--primary-light: #e0e7ff;--secondary: #64748b;--success: #10b981;--warning: #f59e0b;--error: #ef4444;--bg-primary: #f8fafc;--bg-secondary: #ffffff;--bg-tertiary: #f1f5f9;--bg-card: #ffffff;--text-primary: #0f172a;--text-secondary: #475569;--text-muted: #94a3b8;--border: #e2e8f0;--border-light: #cbd5e1;--radius-sm: 6px;--radius-md: 10px;--radius-lg: 16px;--shadow: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--transition: all .2s ease}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background:var(--bg-primary);color:var(--text-primary);min-height:100vh;line-height:1.6}.header{background:var(--bg-secondary);border-bottom:1px solid var(--border);padding:16px 24px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100}.logo{display:flex;align-items:center;gap:12px;font-size:20px;font-weight:600}.logo-icon{width:36px;height:36px;background:linear-gradient(135deg,var(--primary),#a855f7);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center}.header-actions{display:flex;gap:12px}.main-container{display:grid;grid-template-columns:360px 1fr;min-height:calc(100vh - 69px);gap:0}.sidebar{background:var(--bg-secondary);border-right:1px solid var(--border);overflow-y:auto;max-height:calc(100vh - 69px)}.sidebar-section{padding:20px;border-bottom:1px solid var(--border)}.section-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:16px;display:flex;align-items:center;gap:8px}.section-title svg{width:16px;height:16px}.form-group{margin-bottom:16px}.form-group:last-child{margin-bottom:0}.form-label{display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:6px}.form-input,.form-select{width:100%;padding:10px 12px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text-primary);font-size:14px;transition:var(--transition)}.form-input:focus,.form-select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #6366f133}.form-input:disabled{opacity:.5;cursor:not-allowed}.form-input::placeholder{color:var(--text-muted)}textarea.form-input{resize:vertical;min-height:60px}.input-wrapper{position:relative}.input-wrapper .toggle-visibility{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--text-muted);cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center}.input-wrapper .toggle-visibility:hover{color:var(--text-primary)}.input-wrapper .form-input{padding-right:40px}.search-wrapper{position:relative;margin-bottom:16px}.search-wrapper svg{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:16px;height:16px;color:var(--text-muted)}.search-wrapper .form-input{padding-left:36px}.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;font-size:14px;font-weight:500;border-radius:var(--radius-sm);border:none;cursor:pointer;transition:var(--transition);text-decoration:none}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover:not(:disabled){background:var(--primary-hover)}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border)}.btn-secondary:hover:not(:disabled){background:var(--border)}.btn-ghost{background:transparent;color:var(--text-secondary)}.btn-ghost:hover:not(:disabled){background:var(--bg-tertiary);color:var(--text-primary)}.btn-sm{padding:6px 12px;font-size:13px}.btn-icon{padding:8px;width:36px;height:36px}.btn-icon-sm{padding:4px;width:24px;height:24px}.btn-group{display:flex;gap:8px;margin-top:16px}.product-list{max-height:300px;overflow-y:auto;border:1px solid var(--border);border-radius:var(--radius-sm)}.product-item{display:flex;align-items:center;gap:12px;padding:10px 12px;cursor:pointer;transition:var(--transition);border-bottom:1px solid var(--border)}.product-item:last-child{border-bottom:none}.product-item:hover{background:var(--bg-tertiary)}.product-item.selected{background:var(--primary-light);border-color:var(--primary)}.product-thumb{width:48px;height:48px;object-fit:cover;border-radius:var(--radius-sm);background:var(--bg-tertiary)}.product-info{flex:1;min-width:0}.product-name{font-size:14px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-meta{font-size:12px;color:var(--text-muted)}.product-list-empty,.product-list-loading{padding:40px 20px;text-align:center;color:var(--text-muted)}.product-list-empty p{margin-bottom:12px}.product-list-loading{display:flex;flex-direction:column;align-items:center;gap:12px}.pagination{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:16px}.page-info{font-size:13px;color:var(--text-secondary)}.image-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.image-item{position:relative;aspect-ratio:1;border-radius:var(--radius-sm);overflow:hidden;cursor:pointer;border:2px solid transparent;transition:var(--transition)}.image-item img{width:100%;height:100%;object-fit:cover}.image-item:hover{border-color:var(--border-light)}.image-item.selected{border-color:var(--primary)}.image-check{position:absolute;top:4px;right:4px;width:20px;height:20px;background:var(--primary);border-radius:50%;display:flex;align-items:center;justify-content:center}.image-primary{position:absolute;bottom:4px;left:4px;background:#0009;color:#fff;font-size:10px;padding:2px 6px;border-radius:4px}.no-images{padding:20px;text-align:center;color:var(--text-muted)}.main-content{padding:24px;overflow-y:auto;max-height:calc(100vh - 69px);display:flex;flex-direction:column;gap:20px}.content-panel{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-md);padding:20px}.panel-header{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:16px}.panel-title{display:flex;align-items:flex-start;gap:12px}.step-indicator{width:28px;height:28px;border-radius:999px;background:linear-gradient(135deg,var(--primary),#a855f7);color:#fff;font-size:13px;font-weight:600;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0}.panel-header h3{font-size:16px;font-weight:600}.panel-subtitle{font-size:12px;color:var(--text-muted);margin-top:4px}.panel-hint{font-size:12px;color:var(--text-muted)}.panel-empty{border:1px dashed var(--border);background:var(--bg-tertiary);border-radius:var(--radius-sm);padding:16px;font-size:13px;color:var(--text-muted)}.product-fields{display:flex;flex-direction:column;gap:12px}.field-row{display:grid;grid-template-columns:140px 1fr;gap:12px;align-items:start}.field-checkbox{display:flex;align-items:center;gap:8px;font-size:14px;cursor:pointer;padding-top:10px}.field-checkbox input[type=checkbox]{width:16px;height:16px;cursor:pointer}.template-module{margin-bottom:20px}.template-module:last-child{margin-bottom:0}.template-modules{display:flex;flex-direction:column;gap:20px}.module-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.module-title{font-size:14px;font-weight:500;color:var(--text-primary)}.optional-tag{font-size:12px;color:var(--text-muted);font-weight:400}.option-chips{display:flex;flex-wrap:wrap;gap:8px}.option-chip{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:20px;font-size:13px;cursor:pointer;transition:var(--transition)}.option-chip:hover{border-color:var(--border-light)}.option-chip.selected{background:var(--primary-light);border-color:var(--primary);color:var(--primary)}.option-chip.editing{border-color:var(--primary);background:var(--bg-secondary);box-shadow:0 0 0 2px #6366f126}.option-chip span{cursor:pointer}.option-edit-input{border:none;background:transparent;font-size:13px;min-width:90px;max-width:180px;outline:none}.chip-edit,.chip-delete{background:none;border:none;padding:2px;cursor:pointer;color:var(--text-muted);display:flex;align-items:center;justify-content:center;opacity:0;transition:var(--transition)}.option-chip:hover .chip-edit,.option-chip:hover .chip-delete{opacity:1}.chip-edit:hover{color:var(--primary)}.chip-delete:hover{color:var(--error)}.prompt-preview-panel{background:var(--bg-tertiary)}.prompt-structured{background:var(--bg-secondary);border-radius:var(--radius-sm);border:1px solid var(--border);padding:16px;display:grid;gap:12px}.prompt-row{display:grid;grid-template-columns:110px 1fr;gap:12px}.prompt-label{font-size:12px;font-weight:600;letter-spacing:.4px;text-transform:uppercase;color:var(--text-secondary);padding-top:4px}.prompt-value{display:flex;flex-wrap:wrap;gap:8px}.prompt-value.empty{color:var(--text-muted)}.prompt-chip{background:var(--primary-light);color:var(--primary);border-radius:999px;padding:4px 10px;font-size:12px;font-weight:500}.prompt-empty{font-size:12px;color:var(--text-muted)}.prompt-full{margin-top:16px;background:var(--bg-secondary);border-radius:var(--radius-sm);border:1px solid var(--border);padding:16px}.prompt-full-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}.prompt-full-header h4{font-size:14px;font-weight:600}.prompt-full-hint{font-size:12px;color:var(--text-muted);margin-top:4px}.prompt-full-body{font-size:14px;line-height:1.8;color:var(--text-primary);white-space:pre-line}.prompt-placeholder{color:var(--text-muted);font-style:italic}.header-actions-inline{display:flex;gap:8px}.template-editor-section{display:flex;flex-direction:column;gap:12px}.template-editor{border-top:1px solid var(--border);padding-top:16px}.template-editor-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}.template-editor-header h4{font-size:14px;font-weight:600}.template-editor-subtitle{font-size:12px;color:var(--text-muted);margin-top:4px}.template-editor-hint{font-size:12px;color:var(--text-muted);background:var(--bg-tertiary);padding:8px 12px;border-radius:var(--radius-sm)}.template-editor-hint code{background:var(--primary-light);color:var(--primary);padding:2px 6px;border-radius:4px;font-family:SF Mono,Menlo,Monaco,monospace;font-size:11px}.template-textarea{font-family:SF Mono,Menlo,Monaco,monospace;font-size:13px;line-height:1.6;min-height:100px;resize:vertical}.variable-reference{background:var(--bg-tertiary);border-radius:var(--radius-sm);padding:12px}.variable-title{font-size:12px;font-weight:500;color:var(--text-secondary);margin-bottom:8px}.variable-chips{display:flex;flex-wrap:wrap;gap:8px}.variable-chip{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;background:var(--bg-secondary);border:1px solid var(--border);border-radius:16px;font-size:12px;cursor:pointer;transition:var(--transition)}.variable-chip:hover{border-color:var(--primary);background:var(--primary-light)}.variable-chip code{font-family:SF Mono,Menlo,Monaco,monospace;font-size:11px;color:var(--primary)}.variable-value{color:var(--text-muted);font-size:11px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.result-area{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-md);padding:40px;min-height:300px}.result-placeholder{text-align:center;color:var(--text-muted)}.result-placeholder svg{width:80px;height:80px;margin-bottom:20px;opacity:.5}.result-placeholder h3{font-size:18px;margin-bottom:8px;color:var(--text-secondary)}.loading-state{text-align:center}.loading-state p{margin-top:16px;color:var(--text-secondary)}.result-container{text-align:center}.result-image{max-width:100%;max-height:400px;border-radius:var(--radius-md);box-shadow:var(--shadow-lg)}.result-actions{display:flex;gap:12px;justify-content:center;margin-top:20px}.generate-section{text-align:center;padding:12px 0 0}.generate-btn{display:inline-flex;align-items:center;justify-content:center;gap:12px;padding:16px 48px;background:linear-gradient(135deg,var(--primary),#a855f7);color:#fff;font-size:16px;font-weight:600;border:none;border-radius:var(--radius-md);cursor:pointer;transition:var(--transition);box-shadow:0 4px 14px #6366f166}.generate-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #6366f180}.generate-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.generate-btn svg{width:20px;height:20px}.generate-hint{margin-top:12px;font-size:13px;color:var(--text-muted)}.spinner{width:48px;height:48px;border:4px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}.spinner-small{width:16px;height:16px;border:2px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.toast-container{position:fixed;bottom:24px;right:24px;display:flex;flex-direction:column;gap:8px;z-index:1000}.toast{padding:12px 20px;background:var(--text-primary);color:#fff;border-radius:var(--radius-sm);font-size:14px;box-shadow:var(--shadow-lg);animation:slideIn .3s ease}.toast.success{background:var(--success)}.toast.error{background:var(--error)}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.error-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.error-modal{background:#fff;border-radius:var(--radius-lg);padding:24px;max-width:400px;text-align:center}.error-header{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:16px;color:var(--error)}.error-header h3{font-size:18px}.error-modal p{color:var(--text-secondary);margin-bottom:20px}@media(max-width:1024px){.main-container{grid-template-columns:300px 1fr}}@media(max-width:768px){.main-container{grid-template-columns:1fr}.sidebar{max-height:none;border-right:none;border-bottom:1px solid var(--border)}.field-row{grid-template-columns:1fr}.field-checkbox{padding-top:0;margin-bottom:8px}.prompt-row{grid-template-columns:1fr}.prompt-label{padding-top:0;text-transform:none}}
