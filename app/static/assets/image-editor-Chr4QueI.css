:root{--primary: #6366f1;--primary-hover: #4f46e5;--primary-light: #e0e7ff;--secondary: #64748b;--success: #10b981;--warning: #f59e0b;--error: #ef4444;--bg-primary: #f8fafc;--bg-secondary: #ffffff;--bg-tertiary: #f1f5f9;--bg-card: #ffffff;--text-primary: #0f172a;--text-secondary: #475569;--text-muted: #94a3b8;--border: #e2e8f0;--border-light: #cbd5e1;--radius-sm: 6px;--radius-md: 10px;--radius-lg: 16px;--shadow: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -1px rgba(0, 0, 0, .06);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--transition: all .2s ease}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background:var(--bg-primary);color:var(--text-primary);min-height:100vh;line-height:1.6}.header{background:var(--bg-secondary);border-bottom:1px solid var(--border);padding:16px 24px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100}.logo{display:flex;align-items:center;gap:12px;font-size:20px;font-weight:600}.logo-icon{width:36px;height:36px;background:linear-gradient(135deg,var(--primary),#a855f7);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center}.header-actions{display:flex;gap:12px}.main-container{display:grid;grid-template-columns:360px 1fr;grid-template-rows:auto 1fr auto;min-height:calc(100vh - 69px);gap:0}.sidebar{background:var(--bg-secondary);border-right:1px solid var(--border);overflow-y:auto;grid-row:1 / -1}.sidebar-section{padding:20px;border-bottom:1px solid var(--border)}.section-title{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);margin-bottom:16px;display:flex;align-items:center;gap:8px}.section-title svg{width:16px;height:16px}.form-group{margin-bottom:16px}.form-group:last-child{margin-bottom:0}.form-label{display:block;font-size:13px;font-weight:500;color:var(--text-secondary);margin-bottom:6px}.form-hint{margin-top:8px;font-size:12px;color:var(--text-muted)}.form-input{width:100%;padding:10px 12px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text-primary);font-size:14px;transition:var(--transition)}.form-input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #6366f133}.form-input::placeholder{color:var(--text-muted)}.input-wrapper{position:relative}.input-wrapper .toggle-visibility{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--text-muted);cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center}.input-wrapper .toggle-visibility:hover{color:var(--text-primary)}.input-wrapper .form-input{padding-right:40px}.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;font-size:14px;font-weight:500;border-radius:var(--radius-sm);border:none;cursor:pointer;transition:var(--transition)}.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover{background:var(--primary-hover)}.btn-primary:disabled{background:var(--secondary);cursor:not-allowed;opacity:.6}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border)}.btn-secondary:hover{background:var(--border)}.btn-ghost{background:transparent;color:var(--text-secondary)}.btn-ghost:hover{background:var(--bg-tertiary);color:var(--text-primary)}.btn-icon{width:36px;height:36px;padding:0}.btn-group{display:flex;gap:8px}.btn-group .btn{flex:1}.form-select{width:100%;padding:10px 36px 10px 12px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text-primary);font-size:14px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;transition:var(--transition)}.form-select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #6366f133}.search-wrapper{position:relative;margin-bottom:12px}.search-wrapper svg{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:16px;height:16px;color:var(--text-muted)}.search-wrapper .form-input{padding-left:38px}.upload-area{border:2px dashed var(--border);border-radius:var(--radius-md);padding:24px;text-align:center;transition:var(--transition);cursor:pointer;position:relative}.upload-area:hover,.upload-area.drag-over{border-color:var(--primary);background:#6366f10d}.upload-area input[type=file]{position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;cursor:pointer;z-index:10}.upload-icon{width:48px;height:48px;margin:0 auto 12px;color:var(--text-muted)}.upload-text{font-size:14px;color:var(--text-secondary)}.upload-text strong{color:var(--primary)}.upload-hint{font-size:12px;color:var(--text-muted);margin-top:8px}.image-preview-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:16px}.image-preview-item{position:relative;aspect-ratio:1;border-radius:var(--radius-sm);overflow:hidden;border:1px solid var(--border);cursor:pointer}.image-preview-item.active{border-color:var(--primary);box-shadow:0 0 0 2px var(--primary)}.image-preview-item img{width:100%;height:100%;object-fit:cover}.image-preview-item .remove-btn{position:absolute;top:4px;right:4px;width:24px;height:24px;background:#000000b3;border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;opacity:0;transition:var(--transition)}.image-preview-item:hover .remove-btn{opacity:1}.image-preview-item .edit-indicator{position:absolute;bottom:4px;left:4px;background:var(--primary);color:#fff;font-size:10px;padding:2px 6px;border-radius:4px}.edit-mask-btn{width:100%;margin-top:12px;padding:12px;background:linear-gradient(135deg,var(--primary),#a855f7);color:#fff;border:none;border-radius:var(--radius-md);font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:var(--transition)}.edit-mask-btn:hover{transform:translateY(-1px);box-shadow:0 4px 12px #6366f166}.edit-mask-btn:disabled{background:var(--secondary);cursor:not-allowed;transform:none;box-shadow:none}.mask-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:var(--transition);padding:20px}.mask-modal-overlay.show{opacity:1;visibility:visible}.mask-modal{background:var(--bg-secondary);border-radius:var(--radius-lg);width:95%;max-width:1200px;max-height:95vh;overflow:hidden;display:flex;flex-direction:column;transform:scale(.9);transition:var(--transition)}.mask-modal-overlay.show .mask-modal{transform:scale(1)}.mask-modal-header{padding:16px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;background:var(--bg-tertiary)}.mask-modal-title{font-size:18px;font-weight:600;display:flex;align-items:center;gap:10px}.mask-modal-close{width:36px;height:36px;background:transparent;border:none;border-radius:50%;color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition)}.mask-modal-close:hover{background:var(--border);color:var(--text-primary)}.mask-modal-body{flex:1;overflow:auto;display:flex;flex-direction:column}.canvas-toolbar{display:flex;align-items:center;gap:8px;padding:12px 16px;background:var(--bg-tertiary);border-bottom:1px solid var(--border);flex-wrap:wrap}.tool-group{display:flex;align-items:center;gap:4px;padding-right:12px;border-right:1px solid var(--border)}.tool-group:last-child{border-right:none}.tool-btn{width:36px;height:36px;background:transparent;border:none;border-radius:var(--radius-sm);color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition)}.tool-btn:hover{background:var(--border);color:var(--text-primary)}.tool-btn.active{background:var(--primary);color:#fff}.brush-size-slider{width:100px;height:4px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:var(--border);border-radius:2px;outline:none}.brush-size-slider::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:var(--primary);border-radius:50%;cursor:pointer}.color-picker-wrapper{position:relative}.color-picker{width:32px;height:32px;border:2px solid var(--border);border-radius:var(--radius-sm);cursor:pointer;padding:0}.canvas-container{position:relative;display:flex;align-items:center;justify-content:center;background:#1a1a2e;flex:1;min-height:400px;overflow:auto}.canvas-wrapper{position:relative;transform-origin:center center;transition:transform .1s ease}.canvas-container canvas{display:block;cursor:crosshair}.canvas-zoom-controls{display:flex;align-items:center;gap:6px;margin-left:auto;padding-left:12px;border-left:1px solid var(--border)}.canvas-zoom-level{font-size:12px;color:var(--text-muted);min-width:45px;text-align:center}.btn-success{background:var(--success);color:#fff}.btn-success:hover{background:#059669}.mask-modal-footer{display:flex;gap:12px;padding:16px 24px;background:var(--bg-tertiary);border-top:1px solid var(--border);justify-content:flex-end}.mask-modal-footer .btn{padding:12px 24px}.image-preview-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000f2;display:flex;align-items:center;justify-content:center;z-index:2000;opacity:0;visibility:hidden;transition:var(--transition);padding:20px}.image-preview-overlay.show{opacity:1;visibility:visible}.image-preview-container{position:relative;max-width:90vw;max-height:90vh;display:flex;flex-direction:column;align-items:center;gap:16px}.image-preview-img{max-width:100%;max-height:80vh;object-fit:contain;border-radius:var(--radius-md);box-shadow:0 20px 60px #00000080}.image-preview-close{position:absolute;top:-50px;right:0;width:40px;height:40px;background:#ffffff1a;border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition)}.image-preview-close:hover{background:#fff3}.image-preview-close svg{width:24px;height:24px}.image-preview-info{color:#fffc;font-size:12px;text-align:center}.main-prompt-section{padding:24px 40px;background:var(--bg-secondary);border-top:1px solid var(--border);display:flex;flex-direction:column;gap:16px}.prompt-input-row{display:flex;gap:16px;align-items:flex-start}.prompt-input-wrapper{flex:1;position:relative}.prompt-textarea{width:100%;padding:16px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-md);color:var(--text-primary);font-size:15px;line-height:1.6;resize:none;font-family:inherit;transition:var(--transition);min-height:100px}.prompt-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #6366f133}.generate-btn-large{padding:16px 32px;font-size:16px;font-weight:600;min-width:160px;height:fit-content;background:linear-gradient(135deg,var(--primary),#8b5cf6);border:none;border-radius:var(--radius-md);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;transition:var(--transition);box-shadow:0 4px 14px #6366f166}.generate-btn-large:hover{transform:translateY(-2px);box-shadow:0 6px 20px #6366f180}.generate-btn-large:disabled{background:var(--secondary);cursor:not-allowed;transform:none;box-shadow:none}.generate-btn-large svg{width:20px;height:20px}.prompt-footer{display:flex;justify-content:space-between;align-items:center}.char-count{font-size:12px;color:var(--text-muted)}.prompt-history-btn{font-size:12px;color:var(--primary);background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:4px}.prompt-history-btn:hover{text-decoration:underline}.prompt-history-dropdown{position:absolute;top:100%;left:0;right:0;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-sm);box-shadow:var(--shadow-lg);max-height:200px;overflow-y:auto;z-index:50;display:none}.prompt-history-dropdown.show{display:block}.prompt-history-item{padding:10px 12px;font-size:13px;color:var(--text-secondary);cursor:pointer;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:flex-start;gap:8px}.prompt-history-item:last-child{border-bottom:none}.prompt-history-item:hover{background:var(--bg-tertiary)}.prompt-history-item .prompt-text{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.prompt-history-item .prompt-time{font-size:11px;color:var(--text-muted);white-space:nowrap}.prompt-history-actions{display:flex;align-items:center;gap:8px;flex-shrink:0}.prompt-history-delete{width:18px;height:18px;border-radius:50%;background:#0009;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;opacity:0;transition:var(--transition)}.prompt-history-item:hover .prompt-history-delete{opacity:1}.prompt-history-delete:hover{background:var(--error)}.prompt-history-delete svg{width:10px;height:10px;color:#fff}.main-content{display:flex;flex-direction:column;background:var(--bg-primary)}.result-area{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;min-height:400px}.result-placeholder{text-align:center;color:var(--text-muted)}.result-placeholder svg{width:80px;height:80px;margin-bottom:16px;opacity:.5}.result-placeholder h3{font-size:18px;font-weight:500;color:var(--text-secondary);margin-bottom:8px}.result-placeholder p{font-size:14px}.loading-state{text-align:center}.spinner{width:48px;height:48px;border:3px solid var(--border);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 16px}@keyframes spin{to{transform:rotate(360deg)}}.loading-state p{font-size:14px;color:var(--text-secondary)}.progress-bar{width:200px;height:4px;background:var(--border);border-radius:2px;margin:12px auto 0;overflow:hidden}.progress-bar-fill{height:100%;background:var(--primary);border-radius:2px;animation:progress 2s ease-in-out infinite}@keyframes progress{0%{width:0}50%{width:70%}to{width:100%}}.result-image-container{position:relative;max-width:100%;max-height:calc(100vh - 300px)}.result-image-container img{max-width:100%;max-height:calc(100vh - 300px);border-radius:var(--radius-md);box-shadow:var(--shadow-lg)}.result-actions{display:flex;justify-content:center;gap:12px;margin-top:20px}.zoom-controls{display:flex;align-items:center;gap:8px;background:var(--bg-secondary);padding:6px 12px;border-radius:var(--radius-sm)}.zoom-level{font-size:13px;color:var(--text-secondary);min-width:50px;text-align:center}.toast-container{position:fixed;top:80px;right:24px;z-index:1000;display:flex;flex-direction:column;gap:12px}.toast{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius-md);padding:14px 20px;box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:12px;min-width:300px;animation:slideIn .3s ease}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast.success{border-left:4px solid var(--success)}.toast.error{border-left:4px solid var(--error)}.toast.warning{border-left:4px solid var(--warning)}.toast-icon{width:20px;height:20px}.toast.success .toast-icon{color:var(--success)}.toast.error .toast-icon{color:var(--error)}.toast.warning .toast-icon{color:var(--warning)}.toast-content{flex:1}.toast-title{font-weight:500;font-size:14px}.toast-message{font-size:13px;color:var(--text-secondary);margin-top:2px}.toast-close{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:4px}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:var(--transition)}.modal-overlay.show{opacity:1;visibility:visible}.modal{background:var(--bg-secondary);border-radius:var(--radius-lg);max-width:500px;width:90%;max-height:90vh;overflow:auto;transform:scale(.9);transition:var(--transition)}.modal-overlay.show .modal{transform:scale(1)}.modal-header{padding:20px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}.modal-title{font-size:18px;font-weight:600}.modal-body{padding:24px}.modal-footer{padding:16px 24px;border-top:1px solid var(--border);display:flex;justify-content:flex-end;gap:12px}.history-panel{position:fixed;right:-400px;top:69px;bottom:0;width:400px;background:var(--bg-secondary);border-left:1px solid var(--border);z-index:90;transition:var(--transition);display:flex;flex-direction:column}.history-panel.show{right:0}.history-header{padding:20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}.history-header h3{font-size:16px;font-weight:600}.history-list{flex:1;overflow-y:auto;padding:12px}.history-item{position:relative;display:flex;gap:12px;padding:12px 40px 12px 12px;border-radius:var(--radius-sm);cursor:pointer;margin-bottom:8px;border:1px solid transparent;transition:var(--transition)}.history-item:hover{background:var(--bg-tertiary);border-color:var(--border)}.history-item-delete{position:absolute;top:8px;right:8px;width:24px;height:24px;border-radius:50%;background:#0009;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;opacity:0;transition:var(--transition)}.history-item:hover .history-item-delete{opacity:1}.history-item-delete:hover{background:var(--error)}.history-item-delete svg{width:14px;height:14px;color:#fff}.history-item-image{width:60px;height:60px;border-radius:var(--radius-sm);object-fit:cover}.history-item-content{flex:1;overflow:hidden}.history-item-prompt{font-size:13px;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.history-item-meta{font-size:11px;color:var(--text-muted);margin-top:4px}.status-indicator{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-secondary)}.status-dot{width:8px;height:8px;border-radius:50%;background:var(--text-muted)}.status-dot.connected{background:var(--success)}.status-dot.error{background:var(--error)}@media(max-width:1024px){.main-container{grid-template-columns:1fr}.sidebar{grid-row:auto;border-right:none;border-bottom:1px solid var(--border)}.sidebar-section{padding:16px}.result-area{min-height:300px;padding:20px}.drawing-history-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:16px}}@media(max-width:640px){.header{padding:12px 16px}.logo{font-size:16px}.prompt-input-row{flex-direction:column}.generate-btn-large{width:100%}.history-panel{width:100%;right:-100%}.mask-modal{width:100%;max-width:100%;height:100%;max-height:100%;border-radius:0}.drawing-history-grid{grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:10px}.image-preview-overlay{padding:10px}.image-preview-close{top:10px;right:10px}.image-preview-img{max-height:70vh}}.collapsible-header{cursor:pointer;display:flex;align-items:center;justify-content:space-between}.collapsible-header .chevron{transition:transform .2s}.collapsible-header.collapsed .chevron{transform:rotate(-90deg)}.collapsible-content{overflow:hidden;transition:max-height .3s ease}.collapsible-content.collapsed{max-height:0!important}.status-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;font-size:11px;font-weight:500;border-radius:12px;text-transform:uppercase}.status-badge.ready{background:#10b98126;color:var(--success)}.status-badge.generating{background:#6366f126;color:var(--primary)}.status-badge.error{background:#ef444426;color:var(--error)}.image-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000e6;z-index:1000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:var(--transition)}.image-zoom-overlay.show{opacity:1;visibility:visible}.image-zoom-overlay img{max-width:90%;max-height:90%;object-fit:contain}.image-zoom-close{position:absolute;top:20px;right:20px;background:var(--bg-secondary);border:none;width:40px;height:40px;border-radius:50%;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center}.inline-history-section{background:var(--bg-secondary);border-top:1px solid var(--border);padding:16px 40px 20px}.inline-history-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.inline-history-title{display:flex;align-items:center;gap:8px;font-size:13px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.inline-history-title svg{color:var(--text-muted)}.inline-history-count{background:var(--bg-tertiary);color:var(--text-muted);font-size:11px;padding:2px 8px;border-radius:10px;font-weight:500}.inline-history-toggle{background:transparent;border:none;color:var(--text-muted);cursor:pointer;padding:6px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;transition:var(--transition)}.inline-history-toggle:hover{background:var(--bg-tertiary);color:var(--text-primary)}.inline-history-toggle .chevron-icon{transition:transform .2s ease}.inline-history-section.collapsed .inline-history-toggle .chevron-icon{transform:rotate(-90deg)}.inline-history-content{overflow:hidden;transition:max-height .3s ease,opacity .2s ease;max-height:500px;opacity:1}.inline-history-section.collapsed .inline-history-content{max-height:0;opacity:0}.inline-history-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}.inline-history-empty{grid-column:1 / -1;text-align:center;color:var(--text-muted);padding:30px 20px;font-size:14px}.inline-history-item{position:relative;background:var(--bg-tertiary);border-radius:var(--radius-md);overflow:hidden;border:1px solid var(--border);transition:var(--transition);cursor:pointer}.inline-history-item:hover{border-color:var(--primary);box-shadow:0 2px 8px #6366f126}.inline-history-item-image{width:100%;aspect-ratio:1;object-fit:cover}.inline-history-item-info{padding:10px}.inline-history-item-prompt{font-size:12px;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:4px}.inline-history-item-meta{font-size:11px;color:var(--text-muted);display:flex;align-items:center;gap:6px}.inline-history-item-actions{position:absolute;top:6px;right:6px;display:flex;gap:4px;opacity:0;transition:opacity .2s ease}.inline-history-item:hover .inline-history-item-actions{opacity:1}.inline-history-action-btn{width:28px;height:28px;background:#000000b3;border:none;border-radius:var(--radius-sm);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition)}.inline-history-action-btn:hover{background:var(--primary)}.inline-history-action-btn.delete:hover{background:var(--error)}.inline-history-show-more{display:flex;justify-content:center;margin-top:12px}.inline-history-show-more .btn{font-size:13px;gap:6px}.edit-prompt-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:var(--transition)}.edit-prompt-modal-overlay.show{opacity:1;visibility:visible}.edit-prompt-modal{background:var(--bg-secondary);border-radius:var(--radius-lg);width:90%;max-width:500px;transform:scale(.9);transition:var(--transition)}.edit-prompt-modal-overlay.show .edit-prompt-modal{transform:scale(1)}.edit-prompt-modal-header{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}.edit-prompt-modal-header h3{font-size:16px;font-weight:600}.edit-prompt-modal-body{padding:20px}.edit-prompt-textarea{width:100%;min-height:120px;padding:12px;background:var(--bg-tertiary);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text-primary);font-size:14px;font-family:inherit;resize:vertical;transition:var(--transition)}.edit-prompt-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #6366f133}.edit-prompt-modal-footer{padding:16px 20px;border-top:1px solid var(--border);display:flex;justify-content:flex-end;gap:12px}@media(max-width:1024px){.inline-history-section{padding:16px 20px}.inline-history-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}}@media(max-width:640px){.inline-history-section{padding:12px 16px}.inline-history-grid{grid-template-columns:repeat(2,1fr);gap:10px}.inline-history-item-info{padding:8px}.inline-history-item-prompt{font-size:11px}}
