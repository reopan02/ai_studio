(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function En(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const X={},Qt=[],Xe=()=>{},lo=()=>!1,ps=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Tn=t=>t.startsWith("onUpdate:"),de=Object.assign,kn=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Ha=Object.prototype.hasOwnProperty,J=(t,e)=>Ha.call(t,e),U=Array.isArray,Zt=t=>Dr(t)==="[object Map]",or=t=>Dr(t)==="[object Set]",Zn=t=>Dr(t)==="[object Date]",V=t=>typeof t=="function",le=t=>typeof t=="string",Fe=t=>typeof t=="symbol",Y=t=>t!==null&&typeof t=="object",co=t=>(Y(t)||V(t))&&V(t.then)&&V(t.catch),uo=Object.prototype.toString,Dr=t=>uo.call(t),Ja=t=>Dr(t).slice(8,-1),ho=t=>Dr(t)==="[object Object]",An=t=>le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gr=En(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gs=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},Ga=/-\w/g,wt=gs(t=>t.replace(Ga,e=>e.slice(1).toUpperCase())),za=/\B([A-Z])/g,St=gs(t=>t.replace(za,"-$1").toLowerCase()),fo=gs(t=>t.charAt(0).toUpperCase()+t.slice(1)),Cs=gs(t=>t?`on${fo(t)}`:""),mt=(t,e)=>!Object.is(t,e),Qr=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},po=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},_s=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ya=t=>{const e=le(t)?Number(t):NaN;return isNaN(e)?t:e};let ei;const ys=()=>ei||(ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function On(t){if(U(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=le(s)?el(s):On(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(le(t)||Y(t))return t}const Xa=/;(?![^(]*\))/g,Qa=/:([^]+)/,Za=/\/\*[^]*?\*\//g;function el(t){const e={};return t.replace(Za,"").split(Xa).forEach(r=>{if(r){const s=r.split(Qa);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Rn(t){let e="";if(le(t))e=t;else if(U(t))for(let r=0;r<t.length;r++){const s=Rn(t[r]);s&&(e+=s+" ")}else if(Y(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const tl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rl=En(tl);function go(t){return!!t||t===""}function sl(t,e){if(t.length!==e.length)return!1;let r=!0;for(let s=0;r&&s<t.length;s++)r=Bt(t[s],e[s]);return r}function Bt(t,e){if(t===e)return!0;let r=Zn(t),s=Zn(e);if(r||s)return r&&s?t.getTime()===e.getTime():!1;if(r=Fe(t),s=Fe(e),r||s)return t===e;if(r=U(t),s=U(e),r||s)return r&&s?sl(t,e):!1;if(r=Y(t),s=Y(e),r||s){if(!r||!s)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Bt(t[o],e[o]))return!1}}return String(t)===String(e)}function Cn(t,e){return t.findIndex(r=>Bt(r,e))}const _o=t=>!!(t&&t.__v_isRef===!0),nl=t=>le(t)?t:t==null?"":U(t)||Y(t)&&(t.toString===uo||!V(t.toString))?_o(t)?nl(t.value):JSON.stringify(t,yo,2):String(t),yo=(t,e)=>_o(e)?yo(t,e.value):Zt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[xs(s,i)+" =>"]=n,r),{})}:or(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>xs(r))}:Fe(e)?xs(e):Y(e)&&!U(e)&&!ho(e)?String(e):e,xs=(t,e="")=>{var r;return Fe(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ae;class il{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!e&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ae;try{return Ae=this,e()}finally{Ae=r}}}on(){++this._on===1&&(this.prevScope=Ae,Ae=this)}off(){this._on>0&&--this._on===0&&(Ae=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ol(){return Ae}let te;const Ps=new WeakSet;class mo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ps.has(this)&&(Ps.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ti(this),bo(this);const e=te,r=Me;te=this,Me=!0;try{return this.fn()}finally{So(this),te=e,Me=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)In(e);this.deps=this.depsTail=void 0,ti(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ps.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xs(this)&&this.run()}get dirty(){return Xs(this)}}let wo=0,_r,yr;function vo(t,e=!1){if(t.flags|=8,e){t.next=yr,yr=t;return}t.next=_r,_r=t}function xn(){wo++}function Pn(){if(--wo>0)return;if(yr){let e=yr;for(yr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;_r;){let e=_r;for(_r=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function bo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function So(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),In(s),al(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function Xs(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Eo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Eo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Er)||(t.globalVersion=Er,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Xs(t))))return;t.flags|=2;const e=t.dep,r=te,s=Me;te=t,Me=!0;try{bo(t);const n=t.fn(t._value);(e.version===0||mt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{te=r,Me=s,So(t),t.flags&=-3}}function In(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)In(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function al(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Me=!0;const To=[];function at(){To.push(Me),Me=!1}function lt(){const t=To.pop();Me=t===void 0?!0:t}function ti(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=te;te=void 0;try{e()}finally{te=r}}}let Er=0;class ll{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $n{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!te||!Me||te===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==te)r=this.activeLink=new ll(te,this),te.deps?(r.prevDep=te.depsTail,te.depsTail.nextDep=r,te.depsTail=r):te.deps=te.depsTail=r,ko(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=te.depsTail,r.nextDep=void 0,te.depsTail.nextDep=r,te.depsTail=r,te.deps===r&&(te.deps=s)}return r}trigger(e){this.version++,Er++,this.notify(e)}notify(e){xn();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Pn()}}}function ko(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)ko(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Qs=new WeakMap,Dt=Symbol(""),Zs=Symbol(""),Tr=Symbol("");function _e(t,e,r){if(Me&&te){let s=Qs.get(t);s||Qs.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new $n),n.map=s,n.key=r),n.track()}}function nt(t,e,r,s,n,i){const o=Qs.get(t);if(!o){Er++;return}const a=l=>{l&&l.trigger()};if(xn(),e==="clear")o.forEach(a);else{const l=U(t),c=l&&An(r);if(l&&r==="length"){const u=Number(s);o.forEach((h,f)=>{(f==="length"||f===Tr||!Fe(f)&&f>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Tr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Dt)),Zt(t)&&a(o.get(Zs)));break;case"delete":l||(a(o.get(Dt)),Zt(t)&&a(o.get(Zs)));break;case"set":Zt(t)&&a(o.get(Dt));break}}Pn()}function Mt(t){const e=H(t);return e===t?e:(_e(e,"iterate",Tr),Ue(t)?e:e.map(qe))}function ms(t){return _e(t=H(t),"iterate",Tr),t}function ft(t,e){return ct(t)?Lt(t)?nr(qe(e)):nr(e):qe(e)}const cl={__proto__:null,[Symbol.iterator](){return Is(this,Symbol.iterator,t=>ft(this,t))},concat(...t){return Mt(this).concat(...t.map(e=>U(e)?Mt(e):e))},entries(){return Is(this,"entries",t=>(t[1]=ft(this,t[1]),t))},every(t,e){return Ze(this,"every",t,e,void 0,arguments)},filter(t,e){return Ze(this,"filter",t,e,r=>r.map(s=>ft(this,s)),arguments)},find(t,e){return Ze(this,"find",t,e,r=>ft(this,r),arguments)},findIndex(t,e){return Ze(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ze(this,"findLast",t,e,r=>ft(this,r),arguments)},findLastIndex(t,e){return Ze(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ze(this,"forEach",t,e,void 0,arguments)},includes(...t){return $s(this,"includes",t)},indexOf(...t){return $s(this,"indexOf",t)},join(t){return Mt(this).join(t)},lastIndexOf(...t){return $s(this,"lastIndexOf",t)},map(t,e){return Ze(this,"map",t,e,void 0,arguments)},pop(){return ur(this,"pop")},push(...t){return ur(this,"push",t)},reduce(t,...e){return ri(this,"reduce",t,e)},reduceRight(t,...e){return ri(this,"reduceRight",t,e)},shift(){return ur(this,"shift")},some(t,e){return Ze(this,"some",t,e,void 0,arguments)},splice(...t){return ur(this,"splice",t)},toReversed(){return Mt(this).toReversed()},toSorted(t){return Mt(this).toSorted(t)},toSpliced(...t){return Mt(this).toSpliced(...t)},unshift(...t){return ur(this,"unshift",t)},values(){return Is(this,"values",t=>ft(this,t))}};function Is(t,e,r){const s=ms(t),n=s[e]();return s!==t&&!Ue(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const ul=Array.prototype;function Ze(t,e,r,s,n,i){const o=ms(t),a=o!==t&&!Ue(t),l=o[e];if(l!==ul[e]){const h=l.apply(t,i);return a?qe(h):h}let c=r;o!==t&&(a?c=function(h,f){return r.call(this,ft(t,h),f,t)}:r.length>2&&(c=function(h,f){return r.call(this,h,f,t)}));const u=l.call(o,c,s);return a&&n?n(u):u}function ri(t,e,r,s){const n=ms(t);let i=r;return n!==t&&(Ue(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,ft(t,a),l,t)}),n[e](i,...s)}function $s(t,e,r){const s=H(t);_e(s,"iterate",Tr);const n=s[e](...r);return(n===-1||n===!1)&&Dn(r[0])?(r[0]=H(r[0]),s[e](...r)):n}function ur(t,e,r=[]){at(),xn();const s=H(t)[e].apply(t,r);return Pn(),lt(),s}const hl=En("__proto__,__v_isRef,__isVue"),Ao=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Fe));function dl(t){Fe(t)||(t=String(t));const e=H(this);return _e(e,"has",t),e.hasOwnProperty(t)}class Oo{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Sl:Po:i?xo:Co).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=U(e);if(!n){let l;if(o&&(l=cl[r]))return l;if(r==="hasOwnProperty")return dl}const a=Reflect.get(e,r,we(e)?e:s);if((Fe(r)?Ao.has(r):hl(r))||(n||_e(e,"get",r),i))return a;if(we(a)){const l=o&&An(r)?a:a.value;return n&&Y(l)?tn(l):l}return Y(a)?n?tn(a):Un(a):a}}class Ro extends Oo{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];const o=U(e)&&An(r);if(!this._isShallow){const c=ct(i);if(!Ue(s)&&!ct(s)&&(i=H(i),s=H(s)),!o&&we(i)&&!we(s))return c||(i.value=s),!0}const a=o?Number(r)<e.length:J(e,r),l=Reflect.set(e,r,s,we(e)?e:n);return e===H(n)&&(a?mt(s,i)&&nt(e,"set",r,s):nt(e,"add",r,s)),l}deleteProperty(e,r){const s=J(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&nt(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!Fe(r)||!Ao.has(r))&&_e(e,"has",r),s}ownKeys(e){return _e(e,"iterate",U(e)?"length":Dt),Reflect.ownKeys(e)}}class fl extends Oo{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const pl=new Ro,gl=new fl,_l=new Ro(!0);const en=t=>t,Vr=t=>Reflect.getPrototypeOf(t);function yl(t,e,r){return function(...s){const n=this.__v_raw,i=H(n),o=Zt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...s),u=r?en:e?nr:qe;return!e&&_e(i,"iterate",l?Zs:Dt),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Kr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ml(t,e){const r={get(n){const i=this.__v_raw,o=H(i),a=H(n);t||(mt(n,a)&&_e(o,"get",n),_e(o,"get",a));const{has:l}=Vr(o),c=e?en:t?nr:qe;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&_e(H(n),"iterate",Dt),n.size},has(n){const i=this.__v_raw,o=H(i),a=H(n);return t||(mt(n,a)&&_e(o,"has",n),_e(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=H(a),c=e?en:t?nr:qe;return!t&&_e(l,"iterate",Dt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return de(r,t?{add:Kr("add"),set:Kr("set"),delete:Kr("delete"),clear:Kr("clear")}:{add(n){!e&&!Ue(n)&&!ct(n)&&(n=H(n));const i=H(this);return Vr(i).has.call(i,n)||(i.add(n),nt(i,"add",n,n)),this},set(n,i){!e&&!Ue(i)&&!ct(i)&&(i=H(i));const o=H(this),{has:a,get:l}=Vr(o);let c=a.call(o,n);c||(n=H(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?mt(i,u)&&nt(o,"set",n,i):nt(o,"add",n,i),this},delete(n){const i=H(this),{has:o,get:a}=Vr(i);let l=o.call(i,n);l||(n=H(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&nt(i,"delete",n,void 0),c},clear(){const n=H(this),i=n.size!==0,o=n.clear();return i&&nt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=yl(n,t,e)}),r}function jn(t,e){const r=ml(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(J(r,n)&&n in s?r:s,n,i)}const wl={get:jn(!1,!1)},vl={get:jn(!1,!0)},bl={get:jn(!0,!1)};const Co=new WeakMap,xo=new WeakMap,Po=new WeakMap,Sl=new WeakMap;function El(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tl(t){return t.__v_skip||!Object.isExtensible(t)?0:El(Ja(t))}function Un(t){return ct(t)?t:Nn(t,!1,pl,wl,Co)}function kl(t){return Nn(t,!1,_l,vl,xo)}function tn(t){return Nn(t,!0,gl,bl,Po)}function Nn(t,e,r,s,n){if(!Y(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Tl(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?s:r);return n.set(t,a),a}function Lt(t){return ct(t)?Lt(t.__v_raw):!!(t&&t.__v_isReactive)}function ct(t){return!!(t&&t.__v_isReadonly)}function Ue(t){return!!(t&&t.__v_isShallow)}function Dn(t){return t?!!t.__v_raw:!1}function H(t){const e=t&&t.__v_raw;return e?H(e):t}function Al(t){return!J(t,"__v_skip")&&Object.isExtensible(t)&&po(t,"__v_skip",!0),t}const qe=t=>Y(t)?Un(t):t,nr=t=>Y(t)?tn(t):t;function we(t){return t?t.__v_isRef===!0:!1}function df(t){return Ol(t,!1)}function Ol(t,e){return we(t)?t:new Rl(t,e)}class Rl{constructor(e,r){this.dep=new $n,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:H(e),this._value=r?e:qe(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||Ue(e)||ct(e);e=s?e:H(e),mt(e,r)&&(this._rawValue=e,this._value=s?e:qe(e),this.dep.trigger())}}function Cl(t){return we(t)?t.value:t}const xl={get:(t,e,r)=>e==="__v_raw"?t:Cl(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return we(n)&&!we(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function Io(t){return Lt(t)?t:new Proxy(t,xl)}class Pl{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new $n(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Er-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return vo(this,!0),!0}get value(){const e=this.dep.track();return Eo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Il(t,e,r=!1){let s,n;return V(t)?s=t:(s=t.get,n=t.set),new Pl(s,n,r)}const Wr={},ss=new WeakMap;let Pt;function $l(t,e=!1,r=Pt){if(r){let s=ss.get(r);s||ss.set(r,s=[]),s.push(t)}}function jl(t,e,r=X){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,c=k=>n?k:Ue(k)||n===!1||n===0?it(k,1):it(k);let u,h,f,g,_=!1,m=!1;if(we(t)?(h=()=>t.value,_=Ue(t)):Lt(t)?(h=()=>c(t),_=!0):U(t)?(m=!0,_=t.some(k=>Lt(k)||Ue(k)),h=()=>t.map(k=>{if(we(k))return k.value;if(Lt(k))return c(k);if(V(k))return l?l(k,2):k()})):V(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){at();try{f()}finally{lt()}}const k=Pt;Pt=u;try{return l?l(t,3,[g]):t(g)}finally{Pt=k}}:h=Xe,e&&n){const k=h,q=n===!0?1/0:n;h=()=>it(k(),q)}const O=ol(),T=()=>{u.stop(),O&&O.active&&kn(O.effects,u)};if(i&&e){const k=e;e=(...q)=>{k(...q),T()}}let A=m?new Array(t.length).fill(Wr):Wr;const E=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const q=u.run();if(n||_||(m?q.some((N,K)=>mt(N,A[K])):mt(q,A))){f&&f();const N=Pt;Pt=u;try{const K=[q,A===Wr?void 0:m&&A[0]===Wr?[]:A,g];A=q,l?l(e,3,K):e(...K)}finally{Pt=N}}}else u.run()};return a&&a(E),u=new mo(h),u.scheduler=o?()=>o(E,!1):E,g=k=>$l(k,!1,u),f=u.onStop=()=>{const k=ss.get(u);if(k){if(l)l(k,4);else for(const q of k)q();ss.delete(u)}},e?s?E(!0):A=u.run():o?o(E.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function it(t,e=1/0,r){if(e<=0||!Y(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,we(t))it(t.value,e,r);else if(U(t))for(let s=0;s<t.length;s++)it(t[s],e,r);else if(or(t)||Zt(t))t.forEach(s=>{it(s,e,r)});else if(ho(t)){for(const s in t)it(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&it(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Lr(t,e,r,s){try{return s?t(...s):t()}catch(n){ws(n,e,r)}}function Ve(t,e,r,s){if(V(t)){const n=Lr(t,e,r,s);return n&&co(n)&&n.catch(i=>{ws(i,e,r)}),n}if(U(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ve(t[i],e,r,s));return n}}function ws(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||X;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){at(),Lr(i,null,10,[t,l,c]),lt();return}}Ul(t,r,n,s,o)}function Ul(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const be=[];let ze=-1;const er=[];let pt=null,Jt=0;const $o=Promise.resolve();let ns=null;function jo(t){const e=ns||$o;return t?e.then(this?t.bind(this):t):e}function Nl(t){let e=ze+1,r=be.length;for(;e<r;){const s=e+r>>>1,n=be[s],i=kr(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function Ln(t){if(!(t.flags&1)){const e=kr(t),r=be[be.length-1];!r||!(t.flags&2)&&e>=kr(r)?be.push(t):be.splice(Nl(e),0,t),t.flags|=1,Uo()}}function Uo(){ns||(ns=$o.then(Do))}function Dl(t){U(t)?er.push(...t):pt&&t.id===-1?pt.splice(Jt+1,0,t):t.flags&1||(er.push(t),t.flags|=1),Uo()}function si(t,e,r=ze+1){for(;r<be.length;r++){const s=be[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;be.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function No(t){if(er.length){const e=[...new Set(er)].sort((r,s)=>kr(r)-kr(s));if(er.length=0,pt){pt.push(...e);return}for(pt=e,Jt=0;Jt<pt.length;Jt++){const r=pt[Jt];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}pt=null,Jt=0}}const kr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Do(t){try{for(ze=0;ze<be.length;ze++){const e=be[ze];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Lr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ze<be.length;ze++){const e=be[ze];e&&(e.flags&=-2)}ze=-1,be.length=0,No(),ns=null,(be.length||er.length)&&Do()}}let me=null,Lo=null;function is(t){const e=me;return me=t,Lo=t&&t.type.__scopeId||null,e}function Ll(t,e=me,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&ls(-1);const i=is(e);let o;try{o=t(...n)}finally{is(i),s._d&&ls(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ff(t,e){if(me===null)return t;const r=Ts(me),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=X]=e[n];i&&(V(i)&&(i={mounted:i,updated:i}),i.deep&&it(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function kt(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(at(),Ve(l,r,8,[t.el,a,t,e]),lt())}}function Bl(t,e){if(Se){let r=Se.provides;const s=Se.parent&&Se.parent.provides;s===r&&(r=Se.provides=Object.create(s)),r[t]=e}}function Zr(t,e,r=!1){const s=ma();if(s||rr){let n=rr?rr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&V(e)?e.call(s&&s.proxy):e}}const Ml=Symbol.for("v-scx"),Fl=()=>Zr(Ml);function js(t,e,r){return Bo(t,e,r)}function Bo(t,e,r=X){const{immediate:s,deep:n,flush:i,once:o}=r,a=de({},r),l=e&&s||!e&&i!=="post";let c;if(Cr){if(i==="sync"){const g=Fl();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Xe,g.resume=Xe,g.pause=Xe,g}}const u=Se;a.call=(g,_,m)=>Ve(g,u,_,m);let h=!1;i==="post"?a.scheduler=g=>{xe(g,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,_)=>{_?g():Ln(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const f=jl(t,e,a);return Cr&&(c?c.push(f):l&&f()),f}function ql(t,e,r){const s=this.proxy,n=le(t)?t.includes(".")?Mo(s,t):()=>s[t]:t.bind(s,s);let i;V(e)?i=e:(i=e.handler,r=e);const o=Br(this),a=Bo(n,i.bind(s),r);return o(),a}function Mo(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const Vl=Symbol("_vte"),Fo=t=>t.__isTeleport,st=Symbol("_leaveCb"),Hr=Symbol("_enterCb");function Kl(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zo(()=>{t.isMounted=!0}),Yo(()=>{t.isUnmounting=!0}),t}const je=[Function,Array],qo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:je,onEnter:je,onAfterEnter:je,onEnterCancelled:je,onBeforeLeave:je,onLeave:je,onAfterLeave:je,onLeaveCancelled:je,onBeforeAppear:je,onAppear:je,onAfterAppear:je,onAppearCancelled:je},Vo=t=>{const e=t.subTree;return e.component?Vo(e.component):e},Wl={name:"BaseTransition",props:qo,setup(t,{slots:e}){const r=ma(),s=Kl();return()=>{const n=e.default&&Ho(e.default(),!0);if(!n||!n.length)return;const i=Ko(n),o=H(t),{mode:a}=o;if(s.isLeaving)return Us(i);const l=ni(i);if(!l)return Us(i);let c=rn(l,o,s,r,h=>c=h);l.type!==ye&&Ar(l,c);let u=r.subTree&&ni(r.subTree);if(u&&u.type!==ye&&!$t(u,l)&&Vo(r).type!==ye){let h=rn(u,o,s,r);if(Ar(u,h),a==="out-in"&&l.type!==ye)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave,u=void 0},Us(i);a==="in-out"&&l.type!==ye?h.delayLeave=(f,g,_)=>{const m=Wo(s,u);m[String(u.key)]=u,f[st]=()=>{g(),f[st]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{_(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Ko(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==ye){e=r;break}}return e}const Hl=Wl;function Wo(t,e){const{leavingVNodes:r}=t;let s=r.get(e.type);return s||(s=Object.create(null),r.set(e.type,s)),s}function rn(t,e,r,s,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:g,onAfterLeave:_,onLeaveCancelled:m,onBeforeAppear:O,onAppear:T,onAfterAppear:A,onAppearCancelled:E}=e,k=String(t.key),q=Wo(r,t),N=(M,z)=>{M&&Ve(M,s,9,z)},K=(M,z)=>{const ne=z[1];N(M,z),U(M)?M.every(I=>I.length<=1)&&ne():M.length<=1&&ne()},se={mode:o,persisted:a,beforeEnter(M){let z=l;if(!r.isMounted)if(i)z=O||l;else return;M[st]&&M[st](!0);const ne=q[k];ne&&$t(t,ne)&&ne.el[st]&&ne.el[st](),N(z,[M])},enter(M){let z=c,ne=u,I=h;if(!r.isMounted)if(i)z=T||c,ne=A||u,I=E||h;else return;let re=!1;const ge=M[Hr]=Qe=>{re||(re=!0,Qe?N(I,[M]):N(ne,[M]),se.delayedLeave&&se.delayedLeave(),M[Hr]=void 0)};z?K(z,[M,ge]):ge()},leave(M,z){const ne=String(t.key);if(M[Hr]&&M[Hr](!0),r.isUnmounting)return z();N(f,[M]);let I=!1;const re=M[st]=ge=>{I||(I=!0,z(),ge?N(m,[M]):N(_,[M]),M[st]=void 0,q[ne]===t&&delete q[ne])};q[ne]=t,g?K(g,[M,re]):re()},clone(M){const z=rn(M,e,r,s,n);return n&&n(z),z}};return se}function Us(t){if(vs(t))return t=vt(t),t.children=null,t}function ni(t){if(!vs(t))return Fo(t.type)&&t.children?Ko(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&V(r.default))return r.default()}}function Ar(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ar(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ho(t,e=!1,r){let s=[],n=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Oe?(o.patchFlag&128&&n++,s=s.concat(Ho(o.children,e,a))):(e||o.type!==ye)&&s.push(a!=null?vt(o,{key:a}):o)}if(n>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function pf(t,e){return V(t)?de({name:t.name},e,{setup:t}):t}function Jo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const os=new WeakMap;function mr(t,e,r,s,n=!1){if(U(t)){t.forEach((_,m)=>mr(_,e&&(U(e)?e[m]:e),r,s,n));return}if(tr(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&mr(t,e,r,s.component.subTree);return}const i=s.shapeFlag&4?Ts(s.component):s.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===X?a.refs={}:a.refs,h=a.setupState,f=H(h),g=h===X?lo:_=>J(f,_);if(c!=null&&c!==l){if(ii(e),le(c))u[c]=null,g(c)&&(h[c]=null);else if(we(c)){c.value=null;const _=e;_.k&&(u[_.k]=null)}}if(V(l))Lr(l,a,12,[o,u]);else{const _=le(l),m=we(l);if(_||m){const O=()=>{if(t.f){const T=_?g(l)?h[l]:u[l]:l.value;if(n)U(T)&&kn(T,i);else if(U(T))T.includes(i)||T.push(i);else if(_)u[l]=[i],g(l)&&(h[l]=u[l]);else{const A=[i];l.value=A,t.k&&(u[t.k]=A)}}else _?(u[l]=o,g(l)&&(h[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const T=()=>{O(),os.delete(t)};T.id=-1,os.set(t,T),xe(T,r)}else ii(t),O()}}}function ii(t){const e=os.get(t);e&&(e.flags|=8,os.delete(t))}ys().requestIdleCallback;ys().cancelIdleCallback;const tr=t=>!!t.type.__asyncLoader,vs=t=>t.type.__isKeepAlive;function Jl(t,e){Go(t,"a",e)}function Gl(t,e){Go(t,"da",e)}function Go(t,e,r=Se){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(bs(e,s,r),r){let n=r.parent;for(;n&&n.parent;)vs(n.parent.vnode)&&zl(s,e,r,n),n=n.parent}}function zl(t,e,r,s){const n=bs(e,t,s,!0);Xo(()=>{kn(s[e],n)},r)}function bs(t,e,r=Se,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{at();const a=Br(r),l=Ve(e,r,t,o);return a(),lt(),l});return s?n.unshift(i):n.push(i),i}}const ut=t=>(e,r=Se)=>{(!Cr||t==="sp")&&bs(t,(...s)=>e(...s),r)},Yl=ut("bm"),zo=ut("m"),Xl=ut("bu"),Ql=ut("u"),Yo=ut("bum"),Xo=ut("um"),Zl=ut("sp"),ec=ut("rtg"),tc=ut("rtc");function rc(t,e=Se){bs("ec",t,e)}const sc=Symbol.for("v-ndc");function gf(t,e,r,s){let n;const i=r,o=U(t);if(o||le(t)){const a=o&&Lt(t);let l=!1,c=!1;a&&(l=!Ue(t),c=ct(t),t=ms(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?nr(qe(t[u])):qe(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Y(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}function _f(t,e,r={},s,n){if(me.ce||me.parent&&tr(me.parent)&&me.parent.ce){const c=Object.keys(r).length>0;return e!=="default"&&(r.name=e),ln(),cn(Oe,null,[Ee("slot",r,s&&s())],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),ln();const o=i&&Qo(i(r)),a=r.key||o&&o.key,l=cn(Oe,{key:(a&&!Fe(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Qo(t){return t.some(e=>Rr(e)?!(e.type===ye||e.type===Oe&&!Qo(e.children)):!0)?t:null}const sn=t=>t?wa(t)?Ts(t):sn(t.parent):null,wr=de(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>sn(t.parent),$root:t=>sn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ea(t),$forceUpdate:t=>t.f||(t.f=()=>{Ln(t.update)}),$nextTick:t=>t.n||(t.n=jo.bind(t.proxy)),$watch:t=>ql.bind(t)}),Ns=(t,e)=>t!==X&&!t.__isScriptSetup&&J(t,e),nc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(Ns(s,e))return o[e]=1,s[e];if(n!==X&&J(n,e))return o[e]=2,n[e];if(J(i,e))return o[e]=3,i[e];if(r!==X&&J(r,e))return o[e]=4,r[e];nn&&(o[e]=0)}}const c=wr[e];let u,h;if(c)return e==="$attrs"&&_e(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==X&&J(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,J(h,e))return h[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return Ns(n,e)?(n[e]=r,!0):s!==X&&J(s,e)?(s[e]=r,!0):J(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,props:i,type:o}},a){let l;return!!(r[a]||t!==X&&a[0]!=="$"&&J(t,a)||Ns(e,a)||J(i,a)||J(s,a)||J(wr,a)||J(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:J(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function oi(t){return U(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let nn=!0;function ic(t){const e=ea(t),r=t.proxy,s=t.ctx;nn=!1,e.beforeCreate&&ai(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:_,activated:m,deactivated:O,beforeDestroy:T,beforeUnmount:A,destroyed:E,unmounted:k,render:q,renderTracked:N,renderTriggered:K,errorCaptured:se,serverPrefetch:M,expose:z,inheritAttrs:ne,components:I,directives:re,filters:ge}=e;if(c&&oc(c,s,null),o)for(const ie in o){const Q=o[ie];V(Q)&&(s[ie]=Q.bind(r))}if(n){const ie=n.call(r,r);Y(ie)&&(t.data=Un(ie))}if(nn=!0,i)for(const ie in i){const Q=i[ie],Et=V(Q)?Q.bind(r,r):V(Q.get)?Q.get.bind(r,r):Xe,Fr=!V(Q)&&V(Q.set)?Q.set.bind(r):Xe,Tt=Vc({get:Et,set:Fr});Object.defineProperty(s,ie,{enumerable:!0,configurable:!0,get:()=>Tt.value,set:Ke=>Tt.value=Ke})}if(a)for(const ie in a)Zo(a[ie],s,r,ie);if(l){const ie=V(l)?l.call(r):l;Reflect.ownKeys(ie).forEach(Q=>{Bl(Q,ie[Q])})}u&&ai(u,t,"c");function he(ie,Q){U(Q)?Q.forEach(Et=>ie(Et.bind(r))):Q&&ie(Q.bind(r))}if(he(Yl,h),he(zo,f),he(Xl,g),he(Ql,_),he(Jl,m),he(Gl,O),he(rc,se),he(tc,N),he(ec,K),he(Yo,A),he(Xo,k),he(Zl,M),U(z))if(z.length){const ie=t.exposed||(t.exposed={});z.forEach(Q=>{Object.defineProperty(ie,Q,{get:()=>r[Q],set:Et=>r[Q]=Et,enumerable:!0})})}else t.exposed||(t.exposed={});q&&t.render===Xe&&(t.render=q),ne!=null&&(t.inheritAttrs=ne),I&&(t.components=I),re&&(t.directives=re),M&&Jo(t)}function oc(t,e,r=Xe){U(t)&&(t=on(t));for(const s in t){const n=t[s];let i;Y(n)?"default"in n?i=Zr(n.from||s,n.default,!0):i=Zr(n.from||s):i=Zr(n),we(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function ai(t,e,r){Ve(U(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function Zo(t,e,r,s){let n=s.includes(".")?Mo(r,s):()=>r[s];if(le(t)){const i=e[t];V(i)&&js(n,i)}else if(V(t))js(n,t.bind(r));else if(Y(t))if(U(t))t.forEach(i=>Zo(i,e,r,s));else{const i=V(t.handler)?t.handler.bind(r):e[t.handler];V(i)&&js(n,i,t)}}function ea(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(c=>as(l,c,o,!0)),as(l,e,o)),Y(e)&&i.set(e,l),l}function as(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&as(t,i,r,!0),n&&n.forEach(o=>as(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=ac[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ac={data:li,props:ci,emits:ci,methods:fr,computed:fr,beforeCreate:ve,created:ve,beforeMount:ve,mounted:ve,beforeUpdate:ve,updated:ve,beforeDestroy:ve,beforeUnmount:ve,destroyed:ve,unmounted:ve,activated:ve,deactivated:ve,errorCaptured:ve,serverPrefetch:ve,components:fr,directives:fr,watch:cc,provide:li,inject:lc};function li(t,e){return e?t?function(){return de(V(t)?t.call(this,this):t,V(e)?e.call(this,this):e)}:e:t}function lc(t,e){return fr(on(t),on(e))}function on(t){if(U(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ve(t,e){return t?[...new Set([].concat(t,e))]:e}function fr(t,e){return t?de(Object.create(null),t,e):e}function ci(t,e){return t?U(t)&&U(e)?[...new Set([...t,...e])]:de(Object.create(null),oi(t),oi(e??{})):e}function cc(t,e){if(!t)return e;if(!e)return t;const r=de(Object.create(null),t);for(const s in e)r[s]=ve(t[s],e[s]);return r}function ta(){return{app:null,config:{isNativeTag:lo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uc=0;function hc(t,e){return function(s,n=null){V(s)||(s=de({},s)),n!=null&&!Y(n)&&(n=null);const i=ta(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:uc++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:Wc,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&V(u.install)?(o.add(u),u.install(c,...h)):V(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,f){if(!l){const g=c._ceVNode||Ee(s,n);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(g,u,f),l=!0,c._container=u,u.__vue_app__=c,Ts(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Ve(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=rr;rr=c;try{return u()}finally{rr=h}}};return c}}let rr=null;const dc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${wt(e)}Modifiers`]||t[`${St(e)}Modifiers`];function fc(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||X;let n=r;const i=e.startsWith("update:"),o=i&&dc(s,e.slice(7));o&&(o.trim&&(n=r.map(u=>le(u)?u.trim():u)),o.number&&(n=r.map(_s)));let a,l=s[a=Cs(e)]||s[a=Cs(wt(e))];!l&&i&&(l=s[a=Cs(St(e))]),l&&Ve(l,t,6,n);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ve(c,t,6,n)}}const pc=new WeakMap;function ra(t,e,r=!1){const s=r?pc:e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!V(t)){const l=c=>{const u=ra(c,e,!0);u&&(a=!0,de(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Y(t)&&s.set(t,null),null):(U(i)?i.forEach(l=>o[l]=null):de(o,i),Y(t)&&s.set(t,o),o)}function Ss(t,e){return!t||!ps(e)?!1:(e=e.slice(2).replace(/Once$/,""),J(t,e[0].toLowerCase()+e.slice(1))||J(t,St(e))||J(t,e))}function ui(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:g,ctx:_,inheritAttrs:m}=t,O=is(t);let T,A;try{if(r.shapeFlag&4){const k=n||s,q=k;T=Ye(c.call(q,k,u,h,g,f,_)),A=a}else{const k=e;T=Ye(k.length>1?k(h,{attrs:a,slots:o,emit:l}):k(h,null)),A=e.props?a:gc(a)}}catch(k){vr.length=0,ws(k,t,1),T=Ee(ye)}let E=T;if(A&&m!==!1){const k=Object.keys(A),{shapeFlag:q}=E;k.length&&q&7&&(i&&k.some(Tn)&&(A=_c(A,i)),E=vt(E,A,!1,!0))}return r.dirs&&(E=vt(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&Ar(E,r.transition),T=E,is(O),T}const gc=t=>{let e;for(const r in t)(r==="class"||r==="style"||ps(r))&&((e||(e={}))[r]=t[r]);return e},_c=(t,e)=>{const r={};for(const s in t)(!Tn(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function yc(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?hi(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Ss(c,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?hi(s,o,c):!0:!!o;return!1}function hi(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!Ss(r,i))return!0}return!1}function mc({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const sa={},na=()=>Object.create(sa),ia=t=>Object.getPrototypeOf(t)===sa;function wc(t,e,r,s=!1){const n={},i=na();t.propsDefaults=Object.create(null),oa(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:kl(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function vc(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=H(n),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Ss(t.emitsOptions,f))continue;const g=e[f];if(l)if(J(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const _=wt(f);n[_]=an(l,a,_,g,t,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{oa(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!J(e,h)&&((u=St(h))===h||!J(e,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(n[h]=an(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!J(e,h))&&(delete i[h],c=!0)}c&&nt(t.attrs,"set","")}function oa(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(gr(l))continue;const c=e[l];let u;n&&J(n,u=wt(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:Ss(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=H(r),c=a||X;for(let u=0;u<i.length;u++){const h=i[u];r[h]=an(n,l,h,c[h],t,!J(c,h))}}return o}function an(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=J(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&V(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=Br(n);s=c[r]=l.call(null,e),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===St(r))&&(s=!0))}return s}const bc=new WeakMap;function aa(t,e,r=!1){const s=r?bc:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!V(t)){const u=h=>{l=!0;const[f,g]=aa(h,e,!0);de(o,f),g&&a.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Y(t)&&s.set(t,Qt),Qt;if(U(i))for(let u=0;u<i.length;u++){const h=wt(i[u]);di(h)&&(o[h]=X)}else if(i)for(const u in i){const h=wt(u);if(di(h)){const f=i[u],g=o[h]=U(f)||V(f)?{type:f}:de({},f),_=g.type;let m=!1,O=!0;if(U(_))for(let T=0;T<_.length;++T){const A=_[T],E=V(A)&&A.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(O=!1)}else m=V(_)&&_.name==="Boolean";g[0]=m,g[1]=O,(m||J(g,"default"))&&a.push(h)}}const c=[o,a];return Y(t)&&s.set(t,c),c}function di(t){return t[0]!=="$"&&!gr(t)}const Bn=t=>t==="_"||t==="_ctx"||t==="$stable",Mn=t=>U(t)?t.map(Ye):[Ye(t)],Sc=(t,e,r)=>{if(e._n)return e;const s=Ll((...n)=>Mn(e(...n)),r);return s._c=!1,s},la=(t,e,r)=>{const s=t._ctx;for(const n in t){if(Bn(n))continue;const i=t[n];if(V(i))e[n]=Sc(n,i,s);else if(i!=null){const o=Mn(i);e[n]=()=>o}}},ca=(t,e)=>{const r=Mn(e);t.slots.default=()=>r},ua=(t,e,r)=>{for(const s in e)(r||!Bn(s))&&(t[s]=e[s])},Ec=(t,e,r)=>{const s=t.slots=na();if(t.vnode.shapeFlag&32){const n=e._;n?(ua(s,e,r),r&&po(s,"_",n,!0)):la(e,s)}else e&&ca(t,e)},Tc=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=X;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:ua(n,e,r):(i=!e.$stable,la(e,n)),o=e}else e&&(ca(t,e),o={default:1});if(i)for(const a in n)!Bn(a)&&o[a]==null&&delete n[a]},xe=Cc;function kc(t){return Ac(t)}function Ac(t,e){const r=ys();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=Xe,insertStaticContent:_}=t,m=(d,p,y,S=null,w=null,v=null,x=void 0,C=null,R=!!p.dynamicChildren)=>{if(d===p)return;d&&!$t(d,p)&&(S=qr(d),Ke(d,w,v,!0),d=null),p.patchFlag===-2&&(R=!1,p.dynamicChildren=null);const{type:b,ref:D,shapeFlag:P}=p;switch(b){case Es:O(d,p,y,S);break;case ye:T(d,p,y,S);break;case es:d==null&&A(p,y,S,x);break;case Oe:I(d,p,y,S,w,v,x,C,R);break;default:P&1?q(d,p,y,S,w,v,x,C,R):P&6?re(d,p,y,S,w,v,x,C,R):(P&64||P&128)&&b.process(d,p,y,S,w,v,x,C,R,lr)}D!=null&&w?mr(D,d&&d.ref,v,p||d,!p):D==null&&d&&d.ref!=null&&mr(d.ref,null,v,d,!0)},O=(d,p,y,S)=>{if(d==null)s(p.el=a(p.children),y,S);else{const w=p.el=d.el;p.children!==d.children&&c(w,p.children)}},T=(d,p,y,S)=>{d==null?s(p.el=l(p.children||""),y,S):p.el=d.el},A=(d,p,y,S)=>{[d.el,d.anchor]=_(d.children,p,y,S,d.el,d.anchor)},E=({el:d,anchor:p},y,S)=>{let w;for(;d&&d!==p;)w=f(d),s(d,y,S),d=w;s(p,y,S)},k=({el:d,anchor:p})=>{let y;for(;d&&d!==p;)y=f(d),n(d),d=y;n(p)},q=(d,p,y,S,w,v,x,C,R)=>{if(p.type==="svg"?x="svg":p.type==="math"&&(x="mathml"),d==null)N(p,y,S,w,v,x,C,R);else{const b=d.el&&d.el._isVueCE?d.el:null;try{b&&b._beginPatch(),M(d,p,w,v,x,C,R)}finally{b&&b._endPatch()}}},N=(d,p,y,S,w,v,x,C)=>{let R,b;const{props:D,shapeFlag:P,transition:j,dirs:F}=d;if(R=d.el=o(d.type,v,D&&D.is,D),P&8?u(R,d.children):P&16&&se(d.children,R,null,S,w,Ds(d,v),x,C),F&&kt(d,null,S,"created"),K(R,d,d.scopeId,x,S),D){for(const Z in D)Z!=="value"&&!gr(Z)&&i(R,Z,null,D[Z],v,S);"value"in D&&i(R,"value",null,D.value,v),(b=D.onVnodeBeforeMount)&&Ge(b,S,d)}F&&kt(d,null,S,"beforeMount");const W=Oc(w,j);W&&j.beforeEnter(R),s(R,p,y),((b=D&&D.onVnodeMounted)||W||F)&&xe(()=>{b&&Ge(b,S,d),W&&j.enter(R),F&&kt(d,null,S,"mounted")},w)},K=(d,p,y,S,w)=>{if(y&&g(d,y),S)for(let v=0;v<S.length;v++)g(d,S[v]);if(w){let v=w.subTree;if(p===v||pa(v.type)&&(v.ssContent===p||v.ssFallback===p)){const x=w.vnode;K(d,x,x.scopeId,x.slotScopeIds,w.parent)}}},se=(d,p,y,S,w,v,x,C,R=0)=>{for(let b=R;b<d.length;b++){const D=d[b]=C?gt(d[b]):Ye(d[b]);m(null,D,p,y,S,w,v,x,C)}},M=(d,p,y,S,w,v,x)=>{const C=p.el=d.el;let{patchFlag:R,dynamicChildren:b,dirs:D}=p;R|=d.patchFlag&16;const P=d.props||X,j=p.props||X;let F;if(y&&At(y,!1),(F=j.onVnodeBeforeUpdate)&&Ge(F,y,p,d),D&&kt(p,d,y,"beforeUpdate"),y&&At(y,!0),(P.innerHTML&&j.innerHTML==null||P.textContent&&j.textContent==null)&&u(C,""),b?z(d.dynamicChildren,b,C,y,S,Ds(p,w),v):x||Q(d,p,C,null,y,S,Ds(p,w),v,!1),R>0){if(R&16)ne(C,P,j,y,w);else if(R&2&&P.class!==j.class&&i(C,"class",null,j.class,w),R&4&&i(C,"style",P.style,j.style,w),R&8){const W=p.dynamicProps;for(let Z=0;Z<W.length;Z++){const G=W[Z],Te=P[G],ke=j[G];(ke!==Te||G==="value")&&i(C,G,Te,ke,w,y)}}R&1&&d.children!==p.children&&u(C,p.children)}else!x&&b==null&&ne(C,P,j,y,w);((F=j.onVnodeUpdated)||D)&&xe(()=>{F&&Ge(F,y,p,d),D&&kt(p,d,y,"updated")},S)},z=(d,p,y,S,w,v,x)=>{for(let C=0;C<p.length;C++){const R=d[C],b=p[C],D=R.el&&(R.type===Oe||!$t(R,b)||R.shapeFlag&198)?h(R.el):y;m(R,b,D,null,S,w,v,x,!0)}},ne=(d,p,y,S,w)=>{if(p!==y){if(p!==X)for(const v in p)!gr(v)&&!(v in y)&&i(d,v,p[v],null,w,S);for(const v in y){if(gr(v))continue;const x=y[v],C=p[v];x!==C&&v!=="value"&&i(d,v,C,x,w,S)}"value"in y&&i(d,"value",p.value,y.value,w)}},I=(d,p,y,S,w,v,x,C,R)=>{const b=p.el=d?d.el:a(""),D=p.anchor=d?d.anchor:a("");let{patchFlag:P,dynamicChildren:j,slotScopeIds:F}=p;F&&(C=C?C.concat(F):F),d==null?(s(b,y,S),s(D,y,S),se(p.children||[],y,D,w,v,x,C,R)):P>0&&P&64&&j&&d.dynamicChildren&&d.dynamicChildren.length===j.length?(z(d.dynamicChildren,j,y,w,v,x,C),(p.key!=null||w&&p===w.subTree)&&ha(d,p,!0)):Q(d,p,y,D,w,v,x,C,R)},re=(d,p,y,S,w,v,x,C,R)=>{p.slotScopeIds=C,d==null?p.shapeFlag&512?w.ctx.activate(p,y,S,x,R):ge(p,y,S,w,v,x,R):Qe(d,p,R)},ge=(d,p,y,S,w,v,x)=>{const C=d.component=Dc(d,S,w);if(vs(d)&&(C.ctx.renderer=lr),Lc(C,!1,x),C.asyncDep){if(w&&w.registerDep(C,he,x),!d.el){const R=C.subTree=Ee(ye);T(null,R,p,y),d.placeholder=R.el}}else he(C,d,p,y,w,v,x)},Qe=(d,p,y)=>{const S=p.component=d.component;if(yc(d,p,y))if(S.asyncDep&&!S.asyncResolved){ie(S,p,y);return}else S.next=p,S.update();else p.el=d.el,S.vnode=p},he=(d,p,y,S,w,v,x)=>{const C=()=>{if(d.isMounted){let{next:P,bu:j,u:F,parent:W,vnode:Z}=d;{const He=da(d);if(He){P&&(P.el=Z.el,ie(d,P,x)),He.asyncDep.then(()=>{d.isUnmounted||C()});return}}let G=P,Te;At(d,!1),P?(P.el=Z.el,ie(d,P,x)):P=Z,j&&Qr(j),(Te=P.props&&P.props.onVnodeBeforeUpdate)&&Ge(Te,W,P,Z),At(d,!0);const ke=ui(d),We=d.subTree;d.subTree=ke,m(We,ke,h(We.el),qr(We),d,w,v),P.el=ke.el,G===null&&mc(d,ke.el),F&&xe(F,w),(Te=P.props&&P.props.onVnodeUpdated)&&xe(()=>Ge(Te,W,P,Z),w)}else{let P;const{el:j,props:F}=p,{bm:W,m:Z,parent:G,root:Te,type:ke}=d,We=tr(p);At(d,!1),W&&Qr(W),!We&&(P=F&&F.onVnodeBeforeMount)&&Ge(P,G,p),At(d,!0);{Te.ce&&Te.ce._def.shadowRoot!==!1&&Te.ce._injectChildStyle(ke);const He=d.subTree=ui(d);m(null,He,y,S,d,w,v),p.el=He.el}if(Z&&xe(Z,w),!We&&(P=F&&F.onVnodeMounted)){const He=p;xe(()=>Ge(P,G,He),w)}(p.shapeFlag&256||G&&tr(G.vnode)&&G.vnode.shapeFlag&256)&&d.a&&xe(d.a,w),d.isMounted=!0,p=y=S=null}};d.scope.on();const R=d.effect=new mo(C);d.scope.off();const b=d.update=R.run.bind(R),D=d.job=R.runIfDirty.bind(R);D.i=d,D.id=d.uid,R.scheduler=()=>Ln(D),At(d,!0),b()},ie=(d,p,y)=>{p.component=d;const S=d.vnode.props;d.vnode=p,d.next=null,vc(d,p.props,S,y),Tc(d,p.children,y),at(),si(d),lt()},Q=(d,p,y,S,w,v,x,C,R=!1)=>{const b=d&&d.children,D=d?d.shapeFlag:0,P=p.children,{patchFlag:j,shapeFlag:F}=p;if(j>0){if(j&128){Fr(b,P,y,S,w,v,x,C,R);return}else if(j&256){Et(b,P,y,S,w,v,x,C,R);return}}F&8?(D&16&&ar(b,w,v),P!==b&&u(y,P)):D&16?F&16?Fr(b,P,y,S,w,v,x,C,R):ar(b,w,v,!0):(D&8&&u(y,""),F&16&&se(P,y,S,w,v,x,C,R))},Et=(d,p,y,S,w,v,x,C,R)=>{d=d||Qt,p=p||Qt;const b=d.length,D=p.length,P=Math.min(b,D);let j;for(j=0;j<P;j++){const F=p[j]=R?gt(p[j]):Ye(p[j]);m(d[j],F,y,null,w,v,x,C,R)}b>D?ar(d,w,v,!0,!1,P):se(p,y,S,w,v,x,C,R,P)},Fr=(d,p,y,S,w,v,x,C,R)=>{let b=0;const D=p.length;let P=d.length-1,j=D-1;for(;b<=P&&b<=j;){const F=d[b],W=p[b]=R?gt(p[b]):Ye(p[b]);if($t(F,W))m(F,W,y,null,w,v,x,C,R);else break;b++}for(;b<=P&&b<=j;){const F=d[P],W=p[j]=R?gt(p[j]):Ye(p[j]);if($t(F,W))m(F,W,y,null,w,v,x,C,R);else break;P--,j--}if(b>P){if(b<=j){const F=j+1,W=F<D?p[F].el:S;for(;b<=j;)m(null,p[b]=R?gt(p[b]):Ye(p[b]),y,W,w,v,x,C,R),b++}}else if(b>j)for(;b<=P;)Ke(d[b],w,v,!0),b++;else{const F=b,W=b,Z=new Map;for(b=W;b<=j;b++){const Re=p[b]=R?gt(p[b]):Ye(p[b]);Re.key!=null&&Z.set(Re.key,b)}let G,Te=0;const ke=j-W+1;let We=!1,He=0;const cr=new Array(ke);for(b=0;b<ke;b++)cr[b]=0;for(b=F;b<=P;b++){const Re=d[b];if(Te>=ke){Ke(Re,w,v,!0);continue}let Je;if(Re.key!=null)Je=Z.get(Re.key);else for(G=W;G<=j;G++)if(cr[G-W]===0&&$t(Re,p[G])){Je=G;break}Je===void 0?Ke(Re,w,v,!0):(cr[Je-W]=b+1,Je>=He?He=Je:We=!0,m(Re,p[Je],y,null,w,v,x,C,R),Te++)}const Yn=We?Rc(cr):Qt;for(G=Yn.length-1,b=ke-1;b>=0;b--){const Re=W+b,Je=p[Re],Xn=p[Re+1],Qn=Re+1<D?Xn.el||fa(Xn):S;cr[b]===0?m(null,Je,y,Qn,w,v,x,C,R):We&&(G<0||b!==Yn[G]?Tt(Je,y,Qn,2):G--)}}},Tt=(d,p,y,S,w=null)=>{const{el:v,type:x,transition:C,children:R,shapeFlag:b}=d;if(b&6){Tt(d.component.subTree,p,y,S);return}if(b&128){d.suspense.move(p,y,S);return}if(b&64){x.move(d,p,y,lr);return}if(x===Oe){s(v,p,y);for(let P=0;P<R.length;P++)Tt(R[P],p,y,S);s(d.anchor,p,y);return}if(x===es){E(d,p,y);return}if(S!==2&&b&1&&C)if(S===0)C.beforeEnter(v),s(v,p,y),xe(()=>C.enter(v),w);else{const{leave:P,delayLeave:j,afterLeave:F}=C,W=()=>{d.ctx.isUnmounted?n(v):s(v,p,y)},Z=()=>{v._isLeaving&&v[st](!0),P(v,()=>{W(),F&&F()})};j?j(v,W,Z):Z()}else s(v,p,y)},Ke=(d,p,y,S=!1,w=!1)=>{const{type:v,props:x,ref:C,children:R,dynamicChildren:b,shapeFlag:D,patchFlag:P,dirs:j,cacheIndex:F}=d;if(P===-2&&(w=!1),C!=null&&(at(),mr(C,null,y,d,!0),lt()),F!=null&&(p.renderCache[F]=void 0),D&256){p.ctx.deactivate(d);return}const W=D&1&&j,Z=!tr(d);let G;if(Z&&(G=x&&x.onVnodeBeforeUnmount)&&Ge(G,p,d),D&6)Wa(d.component,y,S);else{if(D&128){d.suspense.unmount(y,S);return}W&&kt(d,null,p,"beforeUnmount"),D&64?d.type.remove(d,p,y,lr,S):b&&!b.hasOnce&&(v!==Oe||P>0&&P&64)?ar(b,p,y,!1,!0):(v===Oe&&P&384||!w&&D&16)&&ar(R,p,y),S&&Gn(d)}(Z&&(G=x&&x.onVnodeUnmounted)||W)&&xe(()=>{G&&Ge(G,p,d),W&&kt(d,null,p,"unmounted")},y)},Gn=d=>{const{type:p,el:y,anchor:S,transition:w}=d;if(p===Oe){Ka(y,S);return}if(p===es){k(d);return}const v=()=>{n(y),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:x,delayLeave:C}=w,R=()=>x(y,v);C?C(d.el,v,R):R()}else v()},Ka=(d,p)=>{let y;for(;d!==p;)y=f(d),n(d),d=y;n(p)},Wa=(d,p,y)=>{const{bum:S,scope:w,job:v,subTree:x,um:C,m:R,a:b}=d;fi(R),fi(b),S&&Qr(S),w.stop(),v&&(v.flags|=8,Ke(x,d,p,y)),C&&xe(C,p),xe(()=>{d.isUnmounted=!0},p)},ar=(d,p,y,S=!1,w=!1,v=0)=>{for(let x=v;x<d.length;x++)Ke(d[x],p,y,S,w)},qr=d=>{if(d.shapeFlag&6)return qr(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=f(d.anchor||d.el),y=p&&p[Vl];return y?f(y):p};let Rs=!1;const zn=(d,p,y)=>{let S;d==null?p._vnode&&(Ke(p._vnode,null,null,!0),S=p._vnode.component):m(p._vnode||null,d,p,null,null,null,y),p._vnode=d,Rs||(Rs=!0,si(S),No(),Rs=!1)},lr={p:m,um:Ke,m:Tt,r:Gn,mt:ge,mc:se,pc:Q,pbc:z,n:qr,o:t};return{render:zn,hydrate:void 0,createApp:hc(zn)}}function Ds({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function At({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Oc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ha(t,e,r=!1){const s=t.children,n=e.children;if(U(s)&&U(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=gt(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&ha(o,a)),a.type===Es&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===Oe?1:0)),a.type===ye&&!a.el&&(a.el=o.el)}}function Rc(t){const e=t.slice(),r=[0];let s,n,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(n=r[r.length-1],t[n]<c){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function da(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:da(e)}function fi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function fa(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?fa(e.subTree):null}const pa=t=>t.__isSuspense;function Cc(t,e){e&&e.pendingBranch?U(t)?e.effects.push(...t):e.effects.push(t):Dl(t)}const Oe=Symbol.for("v-fgt"),Es=Symbol.for("v-txt"),ye=Symbol.for("v-cmt"),es=Symbol.for("v-stc"),vr=[];let $e=null;function ln(t=!1){vr.push($e=t?null:[])}function xc(){vr.pop(),$e=vr[vr.length-1]||null}let Or=1;function ls(t,e=!1){Or+=t,t<0&&$e&&e&&($e.hasOnce=!0)}function ga(t){return t.dynamicChildren=Or>0?$e||Qt:null,xc(),Or>0&&$e&&$e.push(t),t}function yf(t,e,r,s,n,i){return ga(ya(t,e,r,s,n,i,!0))}function cn(t,e,r,s,n){return ga(Ee(t,e,r,s,n,!0))}function Rr(t){return t?t.__v_isVNode===!0:!1}function $t(t,e){return t.type===e.type&&t.key===e.key}const _a=({key:t})=>t??null,ts=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?le(t)||we(t)||V(t)?{i:me,r:t,k:e,f:!!r}:t:null);function ya(t,e=null,r=null,s=0,n=null,i=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_a(e),ref:e&&ts(e),scopeId:Lo,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:me};return a?(Fn(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=le(r)?8:16),Or>0&&!o&&$e&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$e.push(l),l}const Ee=Pc;function Pc(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===sc)&&(t=ye),Rr(t)){const a=vt(t,e,!0);return r&&Fn(a,r),Or>0&&!i&&$e&&(a.shapeFlag&6?$e[$e.indexOf(t)]=a:$e.push(a)),a.patchFlag=-2,a}if(qc(t)&&(t=t.__vccOpts),e){e=Ic(e);let{class:a,style:l}=e;a&&!le(a)&&(e.class=Rn(a)),Y(l)&&(Dn(l)&&!U(l)&&(l=de({},l)),e.style=On(l))}const o=le(t)?1:pa(t)?128:Fo(t)?64:Y(t)?4:V(t)?2:0;return ya(t,e,r,s,n,o,i,!0)}function Ic(t){return t?Dn(t)||ia(t)?de({},t):t:null}function vt(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?jc(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&_a(c),ref:e&&e.ref?r&&i?U(i)?i.concat(ts(e)):[i,ts(e)]:ts(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vt(t.ssContent),ssFallback:t.ssFallback&&vt(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Ar(u,l.clone(u)),u}function $c(t=" ",e=0){return Ee(Es,null,t,e)}function mf(t,e){const r=Ee(es,null,t);return r.staticCount=e,r}function wf(t="",e=!1){return e?(ln(),cn(ye,null,t)):Ee(ye,null,t)}function Ye(t){return t==null||typeof t=="boolean"?Ee(ye):U(t)?Ee(Oe,null,t.slice()):Rr(t)?gt(t):Ee(Es,null,String(t))}function gt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vt(t)}function Fn(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(U(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),Fn(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!ia(e)?e._ctx=me:n===3&&me&&(me.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else V(e)?(e={default:e,_ctx:me},r=32):(e=String(e),s&64?(r=16,e=[$c(e)]):r=8);t.children=e,t.shapeFlag|=r}function jc(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=Rn([e.class,s.class]));else if(n==="style")e.style=On([e.style,s.style]);else if(ps(n)){const i=e[n],o=s[n];o&&i!==o&&!(U(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function Ge(t,e,r,s=null){Ve(t,e,7,[r,s])}const Uc=ta();let Nc=0;function Dc(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||Uc,i={uid:Nc++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new il(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aa(s,n),emitsOptions:ra(s,n),emit:null,emitted:null,propsDefaults:X,inheritAttrs:s.inheritAttrs,ctx:X,data:X,props:X,attrs:X,slots:X,refs:X,setupState:X,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=fc.bind(null,i),t.ce&&t.ce(i),i}let Se=null;const ma=()=>Se||me;let cs,un;{const t=ys(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};cs=e("__VUE_INSTANCE_SETTERS__",r=>Se=r),un=e("__VUE_SSR_SETTERS__",r=>Cr=r)}const Br=t=>{const e=Se;return cs(t),t.scope.on(),()=>{t.scope.off(),cs(e)}},pi=()=>{Se&&Se.scope.off(),cs(null)};function wa(t){return t.vnode.shapeFlag&4}let Cr=!1;function Lc(t,e=!1,r=!1){e&&un(e);const{props:s,children:n}=t.vnode,i=wa(t);wc(t,s,i,e),Ec(t,n,r||e);const o=i?Bc(t,e):void 0;return e&&un(!1),o}function Bc(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,nc);const{setup:s}=r;if(s){at();const n=t.setupContext=s.length>1?Fc(t):null,i=Br(t),o=Lr(s,t,0,[t.props,n]),a=co(o);if(lt(),i(),(a||t.sp)&&!tr(t)&&Jo(t),a){if(o.then(pi,pi),e)return o.then(l=>{gi(t,l)}).catch(l=>{ws(l,t,0)});t.asyncDep=o}else gi(t,o)}else va(t)}function gi(t,e,r){V(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Y(e)&&(t.setupState=Io(e)),va(t)}function va(t,e,r){const s=t.type;t.render||(t.render=s.render||Xe);{const n=Br(t);at();try{ic(t)}finally{lt(),n()}}}const Mc={get(t,e){return _e(t,"get",""),t[e]}};function Fc(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Mc),slots:t.slots,emit:t.emit,expose:e}}function Ts(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Io(Al(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in wr)return wr[r](t)},has(e,r){return r in e||r in wr}})):t.proxy}function qc(t){return V(t)&&"__vccOpts"in t}const Vc=(t,e)=>Il(t,e,Cr);function Kc(t,e,r){try{ls(-1);const s=arguments.length;return s===2?Y(e)&&!U(e)?Rr(e)?Ee(t,null,[e]):Ee(t,e):Ee(t,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Rr(r)&&(r=[r]),Ee(t,e,r))}finally{ls(1)}}const Wc="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hn;const _i=typeof window<"u"&&window.trustedTypes;if(_i)try{hn=_i.createPolicy("vue",{createHTML:t=>t})}catch{}const ba=hn?t=>hn.createHTML(t):t=>t,Hc="http://www.w3.org/2000/svg",Jc="http://www.w3.org/1998/Math/MathML",tt=typeof document<"u"?document:null,yi=tt&&tt.createElement("template"),Gc={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?tt.createElementNS(Hc,t):e==="mathml"?tt.createElementNS(Jc,t):r?tt.createElement(t,{is:r}):tt.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>tt.createTextNode(t),createComment:t=>tt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{yi.innerHTML=ba(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=yi.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},dt="transition",hr="animation",xr=Symbol("_vtc"),Sa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zc=de({},qo,Sa),Yc=t=>(t.displayName="Transition",t.props=zc,t),vf=Yc((t,{slots:e})=>Kc(Hl,Xc(t),e)),Ot=(t,e=[])=>{U(t)?t.forEach(r=>r(...e)):t&&t(...e)},mi=t=>t?U(t)?t.some(e=>e.length>1):t.length>1:!1;function Xc(t){const e={};for(const I in t)I in Sa||(e[I]=t[I]);if(t.css===!1)return e;const{name:r="v",type:s,duration:n,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:g=`${r}-leave-to`}=t,_=Qc(n),m=_&&_[0],O=_&&_[1],{onBeforeEnter:T,onEnter:A,onEnterCancelled:E,onLeave:k,onLeaveCancelled:q,onBeforeAppear:N=T,onAppear:K=A,onAppearCancelled:se=E}=e,M=(I,re,ge,Qe)=>{I._enterCancelled=Qe,Rt(I,re?u:a),Rt(I,re?c:o),ge&&ge()},z=(I,re)=>{I._isLeaving=!1,Rt(I,h),Rt(I,g),Rt(I,f),re&&re()},ne=I=>(re,ge)=>{const Qe=I?K:A,he=()=>M(re,I,ge);Ot(Qe,[re,he]),wi(()=>{Rt(re,I?l:i),et(re,I?u:a),mi(Qe)||vi(re,s,m,he)})};return de(e,{onBeforeEnter(I){Ot(T,[I]),et(I,i),et(I,o)},onBeforeAppear(I){Ot(N,[I]),et(I,l),et(I,c)},onEnter:ne(!1),onAppear:ne(!0),onLeave(I,re){I._isLeaving=!0;const ge=()=>z(I,re);et(I,h),I._enterCancelled?(et(I,f),Ei(I)):(Ei(I),et(I,f)),wi(()=>{I._isLeaving&&(Rt(I,h),et(I,g),mi(k)||vi(I,s,O,ge))}),Ot(k,[I,ge])},onEnterCancelled(I){M(I,!1,void 0,!0),Ot(E,[I])},onAppearCancelled(I){M(I,!0,void 0,!0),Ot(se,[I])},onLeaveCancelled(I){z(I),Ot(q,[I])}})}function Qc(t){if(t==null)return null;if(Y(t))return[Ls(t.enter),Ls(t.leave)];{const e=Ls(t);return[e,e]}}function Ls(t){return Ya(t)}function et(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[xr]||(t[xr]=new Set)).add(e)}function Rt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const r=t[xr];r&&(r.delete(e),r.size||(t[xr]=void 0))}function wi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Zc=0;function vi(t,e,r,s){const n=t._endId=++Zc,i=()=>{n===t._endId&&s()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=eu(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),i()},f=g=>{g.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function eu(t,e){const r=window.getComputedStyle(t),s=_=>(r[_]||"").split(", "),n=s(`${dt}Delay`),i=s(`${dt}Duration`),o=bi(n,i),a=s(`${hr}Delay`),l=s(`${hr}Duration`),c=bi(a,l);let u=null,h=0,f=0;e===dt?o>0&&(u=dt,h=o,f=i.length):e===hr?c>0&&(u=hr,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?dt:hr:null,f=u?u===dt?i.length:l.length:0);const g=u===dt&&/\b(?:transform|all)(?:,|$)/.test(s(`${dt}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:g}}function bi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,s)=>Si(r)+Si(t[s])))}function Si(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ei(t){return(t?t.ownerDocument:document).body.offsetHeight}function tu(t,e,r){const s=t[xr];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const us=Symbol("_vod"),Ea=Symbol("_vsh"),bf={name:"show",beforeMount(t,{value:e},{transition:r}){t[us]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):dr(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:s}){!e!=!r&&(s?e?(s.beforeEnter(t),dr(t,!0),s.enter(t)):s.leave(t,()=>{dr(t,!1)}):dr(t,e))},beforeUnmount(t,{value:e}){dr(t,e)}};function dr(t,e){t.style.display=e?t[us]:"none",t[Ea]=!e}const ru=Symbol(""),su=/(?:^|;)\s*display\s*:/;function nu(t,e,r){const s=t.style,n=le(r);let i=!1;if(r&&!n){if(e)if(le(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&rs(s,a,"")}else for(const o in e)r[o]==null&&rs(s,o,"");for(const o in r)o==="display"&&(i=!0),rs(s,o,r[o])}else if(n){if(e!==r){const o=s[ru];o&&(r+=";"+o),s.cssText=r,i=su.test(r)}}else e&&t.removeAttribute("style");us in t&&(t[us]=i?s.display:"",t[Ea]&&(s.display="none"))}const Ti=/\s*!important$/;function rs(t,e,r){if(U(r))r.forEach(s=>rs(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=iu(t,e);Ti.test(r)?t.setProperty(St(s),r.replace(Ti,""),"important"):t[s]=r}}const ki=["Webkit","Moz","ms"],Bs={};function iu(t,e){const r=Bs[e];if(r)return r;let s=wt(e);if(s!=="filter"&&s in t)return Bs[e]=s;s=fo(s);for(let n=0;n<ki.length;n++){const i=ki[n]+s;if(i in t)return Bs[e]=i}return e}const Ai="http://www.w3.org/1999/xlink";function Oi(t,e,r,s,n,i=rl(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Ai,e.slice(6,e.length)):t.setAttributeNS(Ai,e,r):r==null||i&&!go(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Fe(r)?String(r):r)}function Ri(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?ba(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=go(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function ot(t,e,r,s){t.addEventListener(e,r,s)}function ou(t,e,r,s){t.removeEventListener(e,r,s)}const Ci=Symbol("_vei");function au(t,e,r,s,n=null){const i=t[Ci]||(t[Ci]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=lu(e);if(s){const c=i[e]=hu(s,n);ot(t,a,c,l)}else o&&(ou(t,a,o,l),i[e]=void 0)}}const xi=/(?:Once|Passive|Capture)$/;function lu(t){let e;if(xi.test(t)){e={};let s;for(;s=t.match(xi);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):St(t.slice(2)),e]}let Ms=0;const cu=Promise.resolve(),uu=()=>Ms||(cu.then(()=>Ms=0),Ms=Date.now());function hu(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Ve(du(s,r.value),e,5,[s])};return r.value=t,r.attached=uu(),r}function du(t,e){if(U(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Pi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,fu=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?tu(t,s,o):e==="style"?nu(t,r,s):ps(e)?Tn(e)||au(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pu(t,e,s,o))?(Ri(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Oi(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!le(s))?Ri(t,wt(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Oi(t,e,s,o))};function pu(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Pi(e)&&V(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Pi(e)&&le(r)?!1:e in t}const bt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return U(e)?r=>Qr(e,r):e};function gu(t){t.target.composing=!0}function Ii(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ne=Symbol("_assign");function $i(t,e,r){return e&&(t=t.trim()),r&&(t=_s(t)),t}const ji={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[Ne]=bt(n);const i=s||n.props&&n.props.type==="number";ot(t,e?"change":"input",o=>{o.target.composing||t[Ne]($i(t.value,r,i))}),(r||i)&&ot(t,"change",()=>{t.value=$i(t.value,r,i)}),e||(ot(t,"compositionstart",gu),ot(t,"compositionend",Ii),ot(t,"change",Ii))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(t[Ne]=bt(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?_s(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===l)||(t.value=l))}},_u={deep:!0,created(t,e,r){t[Ne]=bt(r),ot(t,"change",()=>{const s=t._modelValue,n=ir(t),i=t.checked,o=t[Ne];if(U(s)){const a=Cn(s,n),l=a!==-1;if(i&&!l)o(s.concat(n));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(or(s)){const a=new Set(s);i?a.add(n):a.delete(n),o(a)}else o(Ta(t,i))})},mounted:Ui,beforeUpdate(t,e,r){t[Ne]=bt(r),Ui(t,e,r)}};function Ui(t,{value:e,oldValue:r},s){t._modelValue=e;let n;if(U(e))n=Cn(e,s.props.value)>-1;else if(or(e))n=e.has(s.props.value);else{if(e===r)return;n=Bt(e,Ta(t,!0))}t.checked!==n&&(t.checked=n)}const yu={created(t,{value:e},r){t.checked=Bt(e,r.props.value),t[Ne]=bt(r),ot(t,"change",()=>{t[Ne](ir(t))})},beforeUpdate(t,{value:e,oldValue:r},s){t[Ne]=bt(s),e!==r&&(t.checked=Bt(e,s.props.value))}},mu={deep:!0,created(t,{value:e,modifiers:{number:r}},s){const n=or(e);ot(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?_s(ir(o)):ir(o));t[Ne](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,jo(()=>{t._assigning=!1})}),t[Ne]=bt(s)},mounted(t,{value:e}){Ni(t,e)},beforeUpdate(t,e,r){t[Ne]=bt(r)},updated(t,{value:e}){t._assigning||Ni(t,e)}};function Ni(t,e){const r=t.multiple,s=U(e);if(!(r&&!s&&!or(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=ir(o);if(r)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Cn(e,a)>-1}else o.selected=e.has(a);else if(Bt(ir(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ir(t){return"_value"in t?t._value:t.value}function Ta(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Sf={created(t,e,r){Jr(t,e,r,null,"created")},mounted(t,e,r){Jr(t,e,r,null,"mounted")},beforeUpdate(t,e,r,s){Jr(t,e,r,s,"beforeUpdate")},updated(t,e,r,s){Jr(t,e,r,s,"updated")}};function wu(t,e){switch(t){case"SELECT":return mu;case"TEXTAREA":return ji;default:switch(e){case"checkbox":return _u;case"radio":return yu;default:return ji}}}function Jr(t,e,r,s,n){const o=wu(t.tagName,r.props&&r.props.type)[n];o&&o(t,e,r,s)}const vu=["ctrl","shift","alt","meta"],bu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>vu.some(r=>t[`${r}Key`]&&!e.includes(r))},Ef=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=((n,...i)=>{for(let o=0;o<e.length;o++){const a=bu[e[o]];if(a&&a(n,e))return}return t(n,...i)}))},Su={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tf=(t,e)=>{const r=t._withKeys||(t._withKeys={}),s=e.join(".");return r[s]||(r[s]=(n=>{if(!("key"in n))return;const i=St(n.key);if(e.some(o=>o===i||Su[o]===i))return t(n)}))},Eu=de({patchProp:fu},Gc);let Di;function Tu(){return Di||(Di=kc(Eu))}const kf=((...t)=>{const e=Tu().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=Au(s);if(!n)return;const i=e._component;!V(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,ku(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function ku(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Au(t){return le(t)?document.querySelector(t):t}function ks(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function Ou(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}const Ru=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class qn extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Cu extends qn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Li extends qn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bi extends qn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dn||(dn={}));class xu{constructor(e,{headers:r={},customFetch:s,region:n=dn.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Ru(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ou(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=s;let f={},{region:g}=s;g||(g=this.region);const _=new URL(`${this.url}/${r}`);g&&g!=="any"&&(f["x-region"]=g,_.searchParams.set("forceFunctionRegion",g));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(f["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(f["Content-Type"]="application/json",m=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?m=JSON.stringify(c):m=c;let O=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(O=o.signal,u.addEventListener("abort",()=>o.abort())):O=o.signal);const T=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:m,signal:O}).catch(q=>{throw new Cu(q)}),A=T.headers.get("x-relay-error");if(A&&A==="true")throw new Li(T);if(!T.ok)throw new Bi(T);let E=((n=T.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),k;return E==="application/json"?k=yield T.json():E==="application/octet-stream"||E==="application/pdf"?k=yield T.blob():E==="text/event-stream"?k=T:E==="multipart/form-data"?k=yield T.formData():k=yield T.text(),{data:k,error:null,response:T}}catch(a){return{data:null,error:a,response:a instanceof Bi||a instanceof Li?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Pu=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Iu=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var g;const T=await i.text();T===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?a=T:a=JSON.parse(T))}const m=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),O=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");m&&O&&O.length>1&&(l=parseInt(O[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var _;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&m===""?(c=204,u="No Content"):o={message:m}}if(o&&r.isMaybeSingle&&(!(o==null||(_=o.details)===null||_===void 0)&&_.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&r.shouldThrowOnError)throw new Pu(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,u,h,f;const _=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",m=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${_}`,m&&(a+=` (${m})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var g;a=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}returns(){return this}overrideTypes(){return this}},$u=class extends Iu{select(t){let e=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Mi=new RegExp("[,()]");var Gt=class extends $u{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&Mi.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&Mi.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${n}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},ju=class{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:s}=e??{},n=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),s&&l.append("Prefer",`count=${s}`),new Gt({method:n,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var s;const n="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Gt({method:n,url:i,headers:o,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),s&&l.append("Prefer",`count=${s}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",u.join(","))}}return new Gt({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const s="PATCH",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Gt({method:s,url:n,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:s,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new Gt({method:r,url:s,headers:n,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Uu=class ka{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=new Headers(r),this.schemaName=s,this.fetch=n}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ju(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ka(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(u)),h=s&&Object.values(r).some(u);h?(a="POST",c=r):s||n?(a=s?"HEAD":"GET",Object.entries(r).filter(([g,_])=>_!==void 0).map(([g,_])=>[g,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([g,_])=>{l.searchParams.append(g,_)})):(a="POST",c=r);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Gt({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Nu{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Du="2.90.1",Lu=`realtime-js/${Du}`,Aa="1.0.0",Bu="2.0.0",Fi=Aa,fn=1e4,Mu=1e3,Fu=100;var _t;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_t||(_t={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var Be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Be||(Be={}));var pn;(function(t){t.websocket="websocket"})(pn||(pn={}));var jt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(jt||(jt={}));class qu{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,s){var n,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let _=new DataView(g),m=0;_.setUint8(m++,this.KINDS.userBroadcastPush),_.setUint8(m++,l.length),_.setUint8(m++,a.length),_.setUint8(m++,o.length),_.setUint8(m++,c.length),_.setUint8(m++,h.length),_.setUint8(m++,r),Array.from(l,T=>_.setUint8(m++,T.charCodeAt(0))),Array.from(a,T=>_.setUint8(m++,T.charCodeAt(0))),Array.from(o,T=>_.setUint8(m++,T.charCodeAt(0))),Array.from(c,T=>_.setUint8(m++,T.charCodeAt(0))),Array.from(h,T=>_.setUint8(m++,T.charCodeAt(0)));var O=new Uint8Array(g.byteLength+s.byteLength);return O.set(new Uint8Array(g),0),O.set(new Uint8Array(s),g.byteLength),O.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[n,i,o,a,l]=s;return r({join_ref:n,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),n=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,n)}}_decodeUserBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(e.slice(l,l+n));l=l+n;const u=s.decode(e.slice(l,l+i));l=l+i;const h=s.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),g=a===this.JSON_ENCODING?JSON.parse(s.decode(f)):f,_={type:this.BROADCAST_EVENT,event:u,payload:g};return o>0&&(_.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class Oa{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ee||(ee={}));const qi=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Vu(o,t,e,n),i),{}):{}},Vu=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?Ra(i,o):gn(o)},Ra=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ju(e,r)}switch(t){case ee.bool:return Ku(e);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Wu(e);case ee.json:case ee.jsonb:return Hu(e);case ee.timestamp:return Gu(e);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return gn(e);default:return gn(e)}},gn=t=>t,Ku=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Wu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Ju=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ra(e,a))}return t},Gu=t=>typeof t=="string"?t.replace(" ","T"):t,Ca=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Fs{constructor(e,r,s={},n=fn){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vi||(Vi={}));class br{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=br.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=br.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=br.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(O=>O.presence_ref),g=h.map(O=>O.presence_ref),_=u.filter(O=>g.indexOf(O.presence_ref)<0),m=h.filter(O=>f.indexOf(O.presence_ref)<0);_.length>0&&(a[c]=_),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ki;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ki||(Ki={}));var Sr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sr||(Sr={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class Xt{constructor(e,r={config:{}},s){var n,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fs(this,Be.join,this.params,this.timeout),this.rejoinTimer=new Oa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new br(this),this.broadcastEndpointURL=Ca(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Sr.PRESENCE]&&this.bindings[Sr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(rt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(rt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,O=(_=m==null?void 0:m.length)!==null&&_!==void 0?_:0,T=[];for(let A=0;A<O;A++){const E=m[A],{filter:{event:k,schema:q,table:N,filter:K}}=E,se=g&&g[A];if(se&&se.event===k&&Xt.isFilterValueEqual(se.schema,q)&&Xt.isFilterValueEqual(se.table,N)&&Xt.isFilterValueEqual(se.filter,K))T.push(Object.assign(Object.assign({},E),{id:se.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(rt.SUBSCRIBED);return}}).receive("error",g=>{this.state=ue.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===ue.joined&&e===Sr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Fs(this,Be.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Fs(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Fu){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Be;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var _,m,O;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((O=(m=g.filter)===null||m===void 0?void 0:m.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(g=>g.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var _,m,O,T,A,E,k,q;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const N=g.id,K=(_=g.filter)===null||_===void 0?void 0:_.event;return N&&((m=r.ids)===null||m===void 0?void 0:m.includes(N))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))&&(!(!((T=g.filter)===null||T===void 0)&&T.table)||g.filter.table===((A=r.data)===null||A===void 0?void 0:A.table))}else{const N=(k=(E=g==null?void 0:g.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return N==="*"||N===((q=r==null?void 0:r.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:m,table:O,commit_timestamp:T,type:A,errors:E}=_;f=Object.assign(Object.assign({},{schema:m,table:O,commit_timestamp:T,eventType:A,new:{},old:{},errors:E}),this._getPayloadRecords(_))}g.callback(f,s)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Xt.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=qi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=qi(e.columns,e.old_record)),r}}const qs=()=>{},Gr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zu=[1e3,2e3,5e3,1e4],Yu=1e4,Xu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qu{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fn,this.transport=null,this.heartbeatIntervalMs=Gr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qs,this.ref=0,this.reconnectTimer=null,this.vsn=Fi,this.logger=qs,this.conn=null,this.sendBuffer=[],this.serializer=new qu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${pn.websocket}`,this.httpEndpoint=Ca(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nu.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case _t.connecting:return jt.Connecting;case _t.open:return jt.Open;case _t.closing:return jt.Closing;default:return jt.Closed}}isConnected(){return this.connectionState()===jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Xt(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Mu,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===_t.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_t.open||this.conn.readyState===_t.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Xu],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Lu};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Be.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Oa(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,a,l,c,u,h,f,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:fn,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Gr.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:qs,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Fi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(_=>zu[_-1]||Yu),this.vsn){case Aa:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((_,m)=>m(JSON.stringify(_))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((_,m)=>m(JSON.parse(_)));break;case Bu:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Pr=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Zu(t,e,r){const s=new URL(e,t);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&s.searchParams.set(n,i);return s.toString()}async function eh(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function th(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:i,headers:o}){const a=Zu(t.baseUrl,s,n),l=await eh(t.auth),c=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!c.ok){const g=h?f:void 0,_=g==null?void 0:g.error;throw new Pr((_==null?void 0:_.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:g})}return{status:c.status,headers:c.headers,data:f}}}}function zr(t){return t.join("")}var rh=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zr(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zr(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zr(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zr(t.namespace)}`}),!0}catch(e){if(e instanceof Pr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Pr&&r.status===409)return;throw r}}};function Ft(t){return t.join("")}var sh=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ft(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ft(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ft(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ft(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ft(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ft(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Pr&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Pr&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},nh=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=th({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new rh(this.client,e),this.tableOps=new sh(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},As=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ih=class extends As{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_n=class extends As{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Vn=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oh=()=>Response,yn=t=>{if(Array.isArray(t))return t.map(r=>yn(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=yn(s)}),e},ah=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lh=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ir(t){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(t)}function ch(t,e){if(Ir(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ir(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uh(t){var e=ch(t,"string");return Ir(e)=="symbol"?e:e+""}function hh(t,e,r){return(e=uh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wi(Object(r),!0).forEach(function(s){hh(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const Vs=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},dh=async(t,e,r)=>{t instanceof await oh()&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const n=t.status||500,i=(s==null?void 0:s.statusCode)||n+"";e(new ih(Vs(s),n,i))}).catch(s=>{e(new _n(Vs(s),s))}):e(new _n(Vs(t),t))},fh=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(ah(s)?(n.headers=B({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),B(B({},n),r))};async function Mr(t,e,r,s,n,i){return new Promise((o,a)=>{t(r,fh(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dh(l,a,s))})}async function $r(t,e,r,s){return Mr(t,"GET",e,r,s)}async function Le(t,e,r,s,n){return Mr(t,"POST",e,s,n,r)}async function mn(t,e,r,s,n){return Mr(t,"PUT",e,s,n,r)}async function ph(t,e,r,s){return Mr(t,"HEAD",e,B(B({},r),{},{noResolveJson:!0}),s)}async function Kn(t,e,r,s,n){return Mr(t,"DELETE",e,s,n,r)}var gh=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}}};let xa;xa=Symbol.toStringTag;var _h=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[xa]="BlobDownloadBuilder",this.promise=null}asStream(){return new gh(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}}};const yh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Hi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mh=class{constructor(t,e={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Vn(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,s){var n=this;try{let i;const o=B(B({},Hi),s);let a=B(B({},n.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",n.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=n.toBase64(n.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=B(B({},a),s.headers));const c=n._removeEmptyFolders(e),u=n._getFinalPath(c),h=await(t=="PUT"?mn:Le)(n.fetch,`${n.url}/object/${u}`,i,B({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,s){var n=this;const i=n._removeEmptyFolders(t),o=n._getFinalPath(i),a=new URL(n.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=B({upsert:Hi.upsert},s),u=B(B({},n.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:i,fullPath:(await mn(n.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(oe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let s=r._getFinalPath(t);const n=B({},r.headers);e!=null&&e.upsert&&(n["x-upsert"]="true");const i=await Le(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new As("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var s=this;try{return{data:await Le(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}}async copy(t,e,r){var s=this;try{return{data:{path:(await Le(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}}async createSignedUrl(t,e,r){var s=this;try{let n=s._getFinalPath(t),i=await Le(s.fetch,`${s.url}/object/sign/${n}`,B({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}}async createSignedUrls(t,e,r){var s=this;try{const n=await Le(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>B(B({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),n=s?`?${s}`:"",i=this._getFinalPath(t),o=()=>$r(this.fetch,`${this.url}/${r}/${i}${n}`,{headers:this.headers,noResolveJson:!0});return new _h(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:yn(await $r(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await ph(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(oe(s)&&s instanceof _n){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const r=this._getFinalPath(t),s=[],n=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";n!==""&&s.push(n);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&s.push(o);let a=s.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await Kn(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}async list(t,e,r){var s=this;try{const n=B(B(B({},yh),e),{},{prefix:t||""});return{data:await Le(s.fetch,`${s.url}/object/list/${s.bucketId}`,n,{headers:s.headers},r),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}}async listV2(t,e){var r=this;try{const s=B({},t);return{data:await Le(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},e),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Pa="2.90.1",Ia={"X-Client-Info":`storage-js/${Pa}`};var wh=class{constructor(t,e={},r,s){this.shouldThrowOnError=!1;const n=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=B(B({},Ia),e),this.fetch=Vn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await $r(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await $r(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Le(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var r=this;try{return{data:await mn(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await Le(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Kn(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},vh=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=B(B({},Ia),e),this.fetch=Vn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Le(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const s=r.toString(),n=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await $r(e.fetch,n,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Kn(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!lh(t))throw new As("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new nh({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(n,i){const o=n[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(n,a),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}};const Wn={"X-Client-Info":`storage-js/${Pa}`,"Content-Type":"application/json"};var $a=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Ks=class extends $a{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bh=class extends $a{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Hn=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Sh=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ji=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eh=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,n=t;if(typeof n.json=="function")n.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";e(new Ks(Ji(i),s,o))}).catch(()=>{const i=s+"";e(new Ks(n.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";e(new Ks(n.statusText||`HTTP ${s} error`,s,i))}}else e(new bh(Ji(t),t))},Th=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(Sh(s)?(n.headers=B({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,B(B({},n),r)):n};async function kh(t,e,r,s,n,i){return new Promise((o,a)=>{t(r,Th(e,s,n,i)).then(l=>{if(!l.ok)throw l;if(s!=null&&s.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Eh(l,a,s))})}async function Ie(t,e,r,s,n){return kh(t,"POST",e,s,n,r)}var Ah=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=B(B({},Wn),e),this.fetch=Hn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Ie(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Ie(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}}},Oh=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=B(B({},Wn),e),this.fetch=Hn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ie(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ie(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ie(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}},Rh=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=B(B({},Wn),e),this.fetch=Hn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ie(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}}},Ch=class extends Rh{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new xh(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},xh=class extends Ah{constructor(t,e,r,s){super(t,e,s),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Ph(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Ph=class extends Oh{constructor(t,e,r,s,n){super(t,e,n),this.vectorBucketName=r,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ih=class extends wh{constructor(t,e={},r,s){super(t,e,r,s)}from(t){return new mh(this.url,this.headers,t,this.fetch)}get vectors(){return new Ch(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vh(this.url+"/iceberg",this.headers,this.fetch)}};const ja="2.90.1",zt=30*1e3,wn=3,Ws=wn*zt,$h="http://localhost:9999",jh="supabase.auth.token",Uh={"X-Client-Info":`gotrue-js/${ja}`},vn="X-Supabase-Api-Version",Ua={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dh=600*1e3;class jr extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Lh extends jr{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Bh(t){return $(t)&&t.name==="AuthApiError"}class Ut extends jr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ht extends jr{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Ce extends ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mh(t){return $(t)&&t.name==="AuthSessionMissingError"}class qt extends ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yr extends ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xr extends ht{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fh(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gi extends ht{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qh extends ht{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bn extends ht{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Hs(t){return $(t)&&t.name==="AuthRetryableFetchError"}class zi extends ht{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Sn extends ht{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yi=` 	
\r=`.split(""),Vh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yi.length;e+=1)t[Yi[e].charCodeAt(0)]=-2;for(let e=0;e<hs.length;e+=1)t[hs[e].charCodeAt(0)]=e;return t})();function Xi(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(hs[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(hs[s]),e.queuedBits-=6}}function Na(t,e,r){const s=Vh[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qi(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Hh(o,s,r)};for(let o=0;o<t.length;o+=1)Na(t.charCodeAt(o),n,i);return e.join("")}function Kh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wh(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Kh(s,e)}}function Hh(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Na(t.charCodeAt(n),r,s);return new Uint8Array(e)}function Jh(t){const e=[];return Wh(t,r=>e.push(r)),new Uint8Array(e)}function Nt(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>Xi(n,r,s)),Xi(null,r,s),e.join("")}function Gh(t){return Math.round(Date.now()/1e3)+t}function zh(){return Symbol("auth-callback")}const pe=()=>typeof window<"u"&&typeof document<"u",Ct={tested:!1,writable:!1},Da=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ct.tested)return Ct.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ct.tested=!0,Ct.writable=!0}catch{Ct.tested=!0,Ct.writable=!1}return Ct.writable};function Yh(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const La=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yt=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},xt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fe=async(t,e)=>{await t.removeItem(e)};class Os{constructor(){this.promise=new Os.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Os.promiseConstructor=Promise;function Js(t){const e=t.split(".");if(e.length!==3)throw new Sn("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Nh.test(e[s]))throw new Sn("JWT not in base64url format");return{header:JSON.parse(Qi(e[0])),payload:JSON.parse(Qi(e[1])),signature:sr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Qh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Zh(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function ed(t){return("0"+t.toString(16)).substr(-2)}function td(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,ed).join("")}async function rd(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function sd(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await rd(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vt(t,e,r=!1){const s=td();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Yt(t,`${e}-code-verifier`,n);const i=await sd(s);return[i,s===i?"plain":"s256"]}const nd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function id(t){const e=t.headers.get(vn);if(!e||!e.match(nd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function od(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ad(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ld=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kt(t){if(!ld.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gs(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cd(t,e){return new Proxy(t,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,n)}})}function Zi(t){return JSON.parse(JSON.stringify(t))}const It=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ud=[502,503,504];async function eo(t){var e;if(!Xh(t))throw new bn(It(t),0);if(ud.includes(t.status))throw new bn(It(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ut(It(i),i)}let s;const n=id(t);if(n&&n.getTime()>=Ua["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new zi(It(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ce}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zi(It(r),t.status,r.weak_password.reasons);throw new Lh(It(r),t.status||500,s)}const hd=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function L(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[vn]||(i[vn]=Ua["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await dd(t,e,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function dd(t,e,r,s,n,i){const o=hd(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new bn(It(l),0)}if(a.ok||await eo(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await eo(l)}}function De(t){var e;let r=null;gd(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gh(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function to(t){const e=De(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fd(t){return{data:t,error:null}}function pd(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=ks(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ro(t){return t}function gd(t){return t.access_token&&t.refresh_token&&t.expires_in}const zs=["global","local","others"];class _d{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=La(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=zs[0]){if(zs.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zs.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=ks(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:pd,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ro});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{const m=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(_.split(";")[1].split("=")[1]);c[`${O}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Kt(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Kt(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:yt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Kt(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:yt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Kt(e.userId);try{const{data:r,error:s}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Kt(e.userId),Kt(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ro});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{const m=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(_.split(";")[1].split("=")[1]);c[`${O}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}}function so(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wt={debug:!!(globalThis&&Da()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ba extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yd extends Ba{}async function md(t,e,r){Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function wd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ma(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function vd(t){return parseInt(t,16)}function bd(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Sd(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Ma(t.address),_=u?`${u}://${s}`:s,m=t.statement?`${t.statement}
`:"",O=`${_} wants you to sign in with your Ethereum account:
${g}

${m}`;let T=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(T+=`
Expiration Time: ${n.toISOString()}`),a&&(T+=`
Not Before: ${a.toISOString()}`),l&&(T+=`
Request ID: ${l}`),c){let A=`
Resources:`;for(const E of c){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);A+=`
- ${E}`}T+=A}return`${O}
${T}`}class ce extends Error{constructor({message:e,code:r,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ds extends ce{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ed({error:t,options:e}){var r,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ce({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Fa(o)){if(i.rp.id!==o)return new ce({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Td({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ce({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Fa(s)){if(r.rpId!==s)return new ce({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class kd{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ad=new kd;function Od(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=ks(t,["challenge","user","excludeCredentials"]),i=sr(e).buffer,o=Object.assign(Object.assign({},r),{id:sr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:sr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Rd(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=ks(t,["challenge","allowCredentials"]),n=sr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:sr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Cd(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xd(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nt(new Uint8Array(n.authenticatorData)),clientDataJSON:Nt(new Uint8Array(n.clientDataJSON)),signature:Nt(new Uint8Array(n.signature)),userHandle:n.userHandle?Nt(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Fa(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function no(){var t,e;return!!(pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Pd(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ds("Browser returned unexpected credential type",e)}:{data:null,error:new ds("Empty credential response",e)}}catch(e){return{data:null,error:Ed({error:e,options:t})}}}async function Id(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ds("Browser returned unexpected credential type",e)}:{data:null,error:new ds("Empty credential response",e)}}catch(e){return{data:null,error:Td({error:e,options:t})}}}const $d={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jd={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fs(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=fs(a,o):s[i]=fs(o)}else s[i]=o}return s}function Ud(t,e){return fs($d,t,e||{})}function Nd(t,e){return fs(jd,t,e||{})}class Dd{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=n??Ad.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Ud(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await Pd({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Nd(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await Id(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Ut("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new jr("rpId is required for WebAuthn authentication")};try{if(!no())return{data:null,error:new Ut("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Ut("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new jr("rpId is required for WebAuthn registration")};try{if(!no())return{data:null,error:new Ut("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Ut("Unexpected error in register",o)}}}}wd();const Ld={url:$h,storageKey:jh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function io(t,e,r){return await r()}const Ht={};class Ur{get jwks(){var e,r;return(r=(e=Ht[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ht[this.storageKey]=Object.assign(Object.assign({},Ht[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ht[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ht[this.storageKey]=Object.assign(Object.assign({},Ht[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ld),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Ur.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ur.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&pe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _d({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=La(i.fetch),this.lock=i.lock||io,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&pe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=md:this.lock=io,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dd(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Da()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=so(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=so(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ja}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(pe()&&(r=Yh(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),pe()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?this._returnResult({error:r}):this._returnResult({error:new Ut("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:De}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Vt(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:_},xform:De})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:De})}else throw new Yr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:to})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:to})}else throw new Yr("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new qt;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,i,o,a,l,c,u,h,f;let g,_;if("message"in e)g=e.message,_=e.signature;else{const{chain:m,wallet:O,statement:T,options:A}=e;let E;if(pe())if(typeof O=="object")E=O;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")E=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=O}const k=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href),q=await E.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Ma(q[0]);let K=(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!K){const M=await E.request({method:"eth_chainId"});K=vd(M)}const se={domain:k.host,address:N,statement:T,uri:k.href,version:"1",chainId:K,nonce:(n=A==null?void 0:A.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=A==null?void 0:A.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=Sd(se),_=await E.request({method:"personal_sign",params:[bd(g),N]})}try{const{data:m,error:O}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:_},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:De});if(O)throw O;if(!m||!m.session||!m.user){const T=new qt;return this._returnResult({data:{user:null,session:null},error:T})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:O})}catch(m){if($(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var r,s,n,i,o,a,l,c,u,h,f,g;let _,m;if("message"in e)_=e.message,m=e.signature;else{const{chain:O,wallet:T,statement:A,options:E}=e;let k;if(pe())if(typeof T=="object")k=T;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))k=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=T}const q=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const N=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),A?{statement:A}:null));let K;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")K=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)K=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)_=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),m=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${q.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(n=(s=E==null?void 0:E.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(u=E==null?void 0:E.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const N=await k.signMessage(new TextEncoder().encode(_),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:O,error:T}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Nt(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:De});if(T)throw T;if(!O||!O.session||!O.user){const A=new qt;return this._returnResult({data:{user:null,session:null},error:A})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:T})}catch(O){if($(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(e){const r=await xt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new qh;const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:De});if(await fe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new qt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:De}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new qt;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Vt(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Yr("You must provide either an email or phone number.")}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:De});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var r,s,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Vt(this.storage,this.storageKey));const c=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:fd});return!((i=c.data)===null||i===void 0)&&i.url&&pe()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Ce;const{error:n}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if($(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Yr("You must provide either an email or phone number and a type")}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await xt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Ws:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await xt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Gs()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=cd(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ce}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:yt})})}catch(r){if($(r))return Mh(r)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Ce;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Vt(this.storage,this.storageKey));const{data:c,error:u}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:yt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ce;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=Js(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ce;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!pe())throw new Xr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gi("No code detected.");const{data:A,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Xr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const g=f-u;g*1e3<=zt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const _=f-h;u-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,u):u-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,u);const{data:m,error:O}=await this._getUser(i);if(O)throw O;const T={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(s){if($(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await xt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Bh(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=zh(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Vt(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return pe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if($(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:De}),{data:f,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new qt}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(n){if(await fe(this.storage,`${this.storageKey}-code-verifier`),$(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Zh(async n=>(n>0&&await Qh(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:De})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Hs(i)&&Date.now()+o-s<zt})}catch(s){if(this._debug(r,"error",s),$(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),pe()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await xt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await xt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Yt(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Gs()}else if(n&&!n.user&&!n.user){const o=await xt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await fe(this.storage,this.storageKey+"-user"),await Yt(this.storage,this.storageKey,n)):n.user=Gs()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ws;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Ws}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Hs(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Os;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ce;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),$(i)){const o={data:null,error:i};return Hs(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Yt(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=Zi(n);await Yt(this.storage,this.storageKey,i)}else{const n=Zi(r);await Yt(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/zt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${zt}ms, refresh threshold is ${wn} ticks`),n<=wn&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ba)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Cd(e.webauthn.credential_response):xd(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Od(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Rd(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:s},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Js(s.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=s.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ce})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Ce});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Ce});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&pe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Ce})})}catch(e){if($(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ce})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Dh>n)return s;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:g,error:_}=await this.getSession();if(_||!g.session)return this._returnResult({data:null,error:_});s=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Js(s);r!=null&&r.allowExpired||od(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=ad(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Jh(`${a}.${l}`)))throw new Sn("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}}Ur.nextInstanceID={};const Bd=Ur,Md="2.90.1";let pr="";typeof Deno<"u"?pr="deno":typeof document<"u"?pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pr="react-native":pr="node";const Fd={"X-Client-Info":`supabase-js-${pr}/${Md}`},qd={headers:Fd},Vd={schema:"public"},Kd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wd={};function Nr(t){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(t)}function Hd(t,e){if(Nr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Nr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jd(t){var e=Hd(t,"string");return Nr(e)=="symbol"?e:e+""}function Gd(t,e,r){return(e=Jd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oo(Object(r),!0).forEach(function(s){Gd(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const zd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yd=()=>Headers,Xd=(t,e,r)=>{const s=zd(r),n=Yd();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,ae(ae({},o),{},{headers:c}))}};function Qd(t){return t.endsWith("/")?t:t+"/"}function Zd(t,e){var r,s;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:ae(ae({},l),n),auth:ae(ae({},c),i),realtime:ae(ae({},u),o),storage:{},global:ae(ae(ae({},h),a),{},{headers:ae(ae({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function ef(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qd(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tf=class extends Bd{constructor(t){super(t)}},rf=class{constructor(t,e,r){var s,n;this.supabaseUrl=t,this.supabaseKey=e;const i=ef(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Vd,realtime:Wd,auth:ae(ae({},Kd),{},{storageKey:o}),global:qd},l=Zd(r??{},a);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=Xd(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Uu(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Ih(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new xu(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:n,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tf({url:this.authUrl.href,headers:ae(ae({},f),u),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:n,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Qu(this.realtimeUrl.href,ae(ae({},t),{},{params:ae(ae({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sf=(t,e,r)=>new rf(t,e,r);function nf(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}nf()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ys="http://192.168.21.150:8000",qa="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0";function ao(t){return t==="localhost"||t==="127.0.0.1"||t==="[::1]"}function of(){if(typeof window>"u")return;const{protocol:t,hostname:e}=window.location;if(!(!t||!e))return`${t}//${e}:8000`}function af(){const t=Ys==null?void 0:Ys.trim(),e=of();if(typeof window>"u")return t;if(!t)return e;try{const r=new URL(t,window.location.href),s=window.location.hostname;if(ao(r.hostname)&&!ao(s)&&e)return e}catch{if(e)return e}return t}const Va=af();if(!Va||!qa)throw new Error("Missing Supabase env: set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY");const Jn=sf(Va,qa);async function lf(){var r;const{data:t,error:e}=await Jn.auth.getSession();return e?null:((r=t.session)==null?void 0:r.access_token)||null}async function Af(){var r,s;const{data:t,error:e}=await Jn.auth.getSession();return e?null:((s=(r=t.session)==null?void 0:r.user)==null?void 0:s.id)||null}function cf(){const t=new URL(window.location.href),e=`${t.pathname}${t.search}`;return!e.startsWith("/")||e.includes("://")||e.startsWith("//")?"/":e}async function uf(t=cf()){const{data:e,error:r}=await Jn.auth.getSession();if(!r&&e.session)return;const s=t.startsWith("/")?t:"/";window.location.href=`/login?next=${encodeURIComponent(s)}`}async function Of(t,e={}){const r=new Headers(e.headers||{}),s=await lf();if(!s)throw await uf(),new Error("Not authenticated");r.set("Authorization",`Bearer ${s}`);const n=3;let i;for(let o=0;o<n;o++){try{const a=await fetch(t,{...e,headers:r});if(a.ok||a.status<500&&a.status!==429)return a}catch(a){i=a}o<n-1&&await new Promise(a=>setTimeout(a,1e3*Math.pow(2,o)))}throw i||new Error("Fetch failed after retries")}async function Rf(t,e=3){var s,n;let r={data:null,error:null};for(let i=0;i<e;i++){try{if(r=await t(),!r.error)return r;const o=((s=r.error)==null?void 0:s.status)||((n=r.error)==null?void 0:n.code);if(!(!o||typeof o=="number"&&(o>=500||o===429)||typeof o=="string"&&(o.startsWith("5")||o==="429")))return r}catch(o){r={data:null,error:o}}i<e-1&&await new Promise(o=>setTimeout(o,1e3*Math.pow(2,i)))}return r}function Cf(t){const e=t!=null&&t.code?String(t.code):"",r=t!=null&&t.message?String(t.message):"";return e==="PGRST205"?"Supabase  public.user_images Supabase Studio  infra/supabase/schema.sql ":r.includes("No API key found in request")?"Supabase  apikey VITE_SUPABASE_ANON_KEY  VITE_SUPABASE_URL ":(r==null?void 0:r.trim())||""}export{_f as A,Ll as B,js as C,Xo as D,mu as E,Oe as F,_u as G,jo as H,Rf as I,Cf as J,vf as T,yf as a,ln as b,Vc as c,pf as d,ya as e,wf as f,mf as g,Sf as h,$c as i,uf as j,kf as k,ji as l,Tf as m,Rn as n,zo as o,gf as p,Un as q,df as r,Jn as s,nl as t,Ef as u,bf as v,ff as w,Of as x,Af as y,Ee as z};
