import{d as G,r as c,c as z,o as K,a as s,b as r,e as t,f,g as y,t as w,w as m,n as x,v as V,h as B,i as S,j as H}from"./runtime-dom.esm-bundler-BI5Nxju0.js";import{g as T}from"./auth-DhJl3iPe.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                   */const P={class:"container portal-container"},R={width:"0",height:"0",style:{position:"absolute"}},E={key:0,class:"card error-banner",style:{"margin-bottom":"20px"}},L={class:"card api-config-section"},D={class:"config-title"},N={class:"config-content"},$={class:"config-form"},j={class:"form-group"},O={class:"input-wrapper"},Y=["type"],q={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},J={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Q={class:"form-group"},W={class:"input-wrapper"},X=["type"],Z={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ee={key:1,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},te={key:1,class:"portal-section"},ae=G({__name:"portal-page",setup(le){const n={apiKey:"global_api_key",baseUrl:"global_base_url"},h=c(""),u=c(!1),v=c(!1),a=c(""),o=c(""),b=c(!1),p=c(!1),d=c(""),g=c("success"),k=z(()=>!!(a.value||o.value));function C(){v.value=!v.value}function I(l){return String(l||"").trim().replace(/^bearer\s+/i,"").trim()}function _(l){const e=String(l||"").trim();if(!e)return null;try{const i=new URL(e);if(i.protocol!=="https:"&&i.protocol!=="http:")throw new Error("Base URL must use HTTP or HTTPS");return i.origin}catch{throw new Error("Invalid URL format")}}function A(){a.value=localStorage.getItem(n.apiKey)||"",o.value=localStorage.getItem(n.baseUrl)||"",a.value||(a.value=localStorage.getItem("video_api_key")||localStorage.getItem("apiKey")||""),o.value||(o.value=localStorage.getItem("video_base_url")||localStorage.getItem("baseUrl")||"")}function U(){try{const l=I(a.value),e=_(o.value);a.value=l,o.value=e||"",localStorage.setItem(n.apiKey,a.value),localStorage.setItem(n.baseUrl,o.value),localStorage.setItem("video_api_key",a.value),localStorage.setItem("video_base_url",o.value),localStorage.setItem("apiKey",a.value),localStorage.setItem("baseUrl",o.value),d.value="配置已保存，将应用到所有功能模块",g.value="success",setTimeout(()=>{d.value=""},3e3)}catch(l){d.value=l.message||"保存失败",g.value="error",setTimeout(()=>{d.value=""},3e3)}}function M(){a.value="",o.value="",localStorage.removeItem(n.apiKey),localStorage.removeItem(n.baseUrl),localStorage.removeItem("video_api_key"),localStorage.removeItem("video_base_url"),localStorage.removeItem("apiKey"),localStorage.removeItem("baseUrl"),d.value="配置已清除",g.value="success",setTimeout(()=>{d.value=""},3e3)}return K(async()=>{const l=new URLSearchParams(window.location.search);h.value=l.get("error")||"",A();try{const e=await T();u.value=!!(e!=null&&e.is_admin)}catch{u.value=!1}}),(l,e)=>(r(),s("div",P,[(r(),s("svg",R,[...e[4]||(e[4]=[y('<defs data-v-b5b5e6c8><linearGradient id="grad-video" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#8B5CF6" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#3B82F6" data-v-b5b5e6c8></stop></linearGradient><linearGradient id="grad-image-gen" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#3B82F6" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#06B6D4" data-v-b5b5e6c8></stop></linearGradient><linearGradient id="grad-ecommerce" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#F97316" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#EC4899" data-v-b5b5e6c8></stop></linearGradient><linearGradient id="grad-products" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#10B981" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#06B6D4" data-v-b5b5e6c8></stop></linearGradient><linearGradient id="grad-storage" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#3B82F6" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#8B5CF6" data-v-b5b5e6c8></stop></linearGradient><linearGradient id="grad-image-edit" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#EC4899" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#8B5CF6" data-v-b5b5e6c8></stop></linearGradient><linearGradient id="grad-runninghub-video" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#06B6D4" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#8B5CF6" data-v-b5b5e6c8></stop></linearGradient><linearGradient id="grad-admin" x1="0%" y1="0%" x2="100%" y2="100%" data-v-b5b5e6c8><stop offset="0%" stop-color="#64748B" data-v-b5b5e6c8></stop><stop offset="100%" stop-color="#3B82F6" data-v-b5b5e6c8></stop></linearGradient></defs>',1)])])),e[18]||(e[18]=t("header",{class:"portal-header"},[t("h1",null,"AI 创作工作室"),t("p",null,"请选择功能模块")],-1)),h.value?(r(),s("section",E,w(h.value),1)):f("",!0),t("section",L,[t("div",{class:"config-header",onClick:C},[t("div",D,[e[5]||(e[5]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"3"}),t("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1)),e[6]||(e[6]=t("span",null,"全局 API 配置",-1)),t("span",{class:x(["config-status",{configured:k.value}])},w(k.value?"已配置":"未配置"),3)]),(r(),s("svg",{class:x(["chevron",{expanded:v.value}]),width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...e[7]||(e[7]=[t("polyline",{points:"6 9 12 15 18 9"},null,-1)])],2))]),m(t("div",N,[e[16]||(e[16]=t("p",{class:"config-desc"},"配置 API Key 和 Base URL，将自动应用到所有功能模块",-1)),t("div",$,[t("div",j,[e[10]||(e[10]=t("label",{class:"form-label"},"API Key",-1)),t("div",O,[m(t("input",{type:b.value?"text":"password",class:"form-input","onUpdate:modelValue":e[0]||(e[0]=i=>a.value=i),placeholder:"输入您的 API Key"},null,8,Y),[[B,a.value]]),t("button",{class:"toggle-btn",onClick:e[1]||(e[1]=i=>b.value=!b.value),type:"button"},[b.value?(r(),s("svg",J,[...e[9]||(e[9]=[t("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),t("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(r(),s("svg",q,[...e[8]||(e[8]=[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),t("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))])])]),t("div",Q,[e[13]||(e[13]=t("label",{class:"form-label"},"Base URL",-1)),t("div",W,[m(t("input",{type:p.value?"text":"password",class:"form-input","onUpdate:modelValue":e[2]||(e[2]=i=>o.value=i),placeholder:"https://api.example.com"},null,8,X),[[B,o.value]]),t("button",{class:"toggle-btn",onClick:e[3]||(e[3]=i=>p.value=!p.value),type:"button"},[p.value?(r(),s("svg",ee,[...e[12]||(e[12]=[t("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},null,-1),t("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])])):(r(),s("svg",Z,[...e[11]||(e[11]=[t("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},null,-1),t("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))])])]),t("div",{class:"btn-group"},[t("button",{class:"btn btn-primary",onClick:U},[...e[14]||(e[14]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t("polyline",{points:"17 21 17 13 7 13 7 21"}),t("polyline",{points:"7 3 7 8 15 8"})],-1),S(" 保存配置 ",-1)])]),t("button",{class:"btn btn-secondary",onClick:M},[...e[15]||(e[15]=[t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"1 4 1 10 7 10"}),t("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})],-1),S(" 清除 ",-1)])])])]),d.value?(r(),s("div",{key:0,class:x(["save-message",g.value])},w(d.value),3)):f("",!0)],512),[[V,v.value]])]),e[19]||(e[19]=y('<section class="portal-section" data-v-b5b5e6c8><div class="section-header section-header-purple" data-v-b5b5e6c8><span class="section-label" data-v-b5b5e6c8>AI 生成</span></div><div class="portal-grid" data-v-b5b5e6c8><a href="/video" class="card portal-card portal-card-video" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-video)" stroke="none" data-v-b5b5e6c8><rect x="2" y="2" width="20" height="20" rx="3" data-v-b5b5e6c8></rect><polygon points="10 8 16 12 10 16" fill="white" data-v-b5b5e6c8></polygon></svg><div class="portal-title" data-v-b5b5e6c8>AI 视频</div><div class="portal-desc" data-v-b5b5e6c8>Sora、Veo、Seedance 等模型</div></a><a href="/runninghub-video" class="card portal-card portal-card-runninghub-video" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-runninghub-video)" stroke="none" data-v-b5b5e6c8><rect x="2" y="2" width="20" height="20" rx="3" data-v-b5b5e6c8></rect><path d="M7 16h10l-2 3H9l-2-3z" fill="white" opacity="0.9" data-v-b5b5e6c8></path><path d="M8 13l2-5h4l2 5H8z" fill="white" data-v-b5b5e6c8></path><circle cx="12" cy="6.5" r="1.5" fill="white" opacity="0.85" data-v-b5b5e6c8></circle></svg><div class="portal-title" data-v-b5b5e6c8>全能视频 S</div><div class="portal-desc" data-v-b5b5e6c8>RunningHub 图生视频（支持真人）</div></a><a href="/image-generate" class="card portal-card portal-card-image-gen" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-image-gen)" stroke="none" data-v-b5b5e6c8><rect x="2" y="2" width="20" height="20" rx="3" data-v-b5b5e6c8></rect><circle cx="8" cy="8" r="2" fill="white" data-v-b5b5e6c8></circle><path d="M22 16l-5-5-8 8h11a2 2 0 0 0 2-2v-1z" fill="white" opacity="0.8" data-v-b5b5e6c8></path></svg><div class="portal-title" data-v-b5b5e6c8>AI 图像</div><div class="portal-desc" data-v-b5b5e6c8>文字描述生成图像</div></a><a href="/ecommerce-image" class="card portal-card portal-card-ecommerce" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-ecommerce)" stroke="none" data-v-b5b5e6c8><rect x="2" y="2" width="20" height="20" rx="3" data-v-b5b5e6c8></rect><rect x="6" y="10" width="12" height="8" rx="1" fill="white" data-v-b5b5e6c8></rect><circle cx="9" cy="18" r="1.5" fill="white" data-v-b5b5e6c8></circle><circle cx="15" cy="18" r="1.5" fill="white" data-v-b5b5e6c8></circle><path d="M8 6h8l1 4H7l1-4z" fill="white" data-v-b5b5e6c8></path></svg><div class="portal-title" data-v-b5b5e6c8>电商图片</div><div class="portal-desc" data-v-b5b5e6c8>基于产品素材快速生成</div></a></div></section><section class="portal-section" data-v-b5b5e6c8><div class="section-header section-header-green" data-v-b5b5e6c8><span class="section-label" data-v-b5b5e6c8>资产管理</span></div><div class="portal-grid" data-v-b5b5e6c8><a href="/products" class="card portal-card portal-card-products" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-products)" stroke="none" data-v-b5b5e6c8><rect x="2" y="4" width="20" height="16" rx="3" data-v-b5b5e6c8></rect><rect x="5" y="8" width="6" height="8" rx="1" fill="white" data-v-b5b5e6c8></rect><rect x="13" y="8" width="6" height="8" rx="1" fill="white" data-v-b5b5e6c8></rect><rect x="8" y="2" width="8" height="4" rx="1" fill="white" opacity="0.8" data-v-b5b5e6c8></rect></svg><div class="portal-title" data-v-b5b5e6c8>产品素材库</div><div class="portal-desc" data-v-b5b5e6c8>产品图片识别与管理</div></a><a href="/storage" class="card portal-card portal-card-storage" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-storage)" stroke="none" data-v-b5b5e6c8><rect x="2" y="2" width="20" height="20" rx="3" data-v-b5b5e6c8></rect><rect x="5" y="6" width="14" height="3" rx="1" fill="white" data-v-b5b5e6c8></rect><rect x="5" y="11" width="14" height="3" rx="1" fill="white" opacity="0.7" data-v-b5b5e6c8></rect><rect x="5" y="16" width="14" height="3" rx="1" fill="white" opacity="0.5" data-v-b5b5e6c8></rect></svg><div class="portal-title" data-v-b5b5e6c8>生成记录</div><div class="portal-desc" data-v-b5b5e6c8>查看历史生成内容</div></a><a href="/image" class="card portal-card portal-card-image-edit" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-image-edit)" stroke="none" data-v-b5b5e6c8><rect x="2" y="2" width="20" height="20" rx="3" data-v-b5b5e6c8></rect><circle cx="8" cy="8" r="2" fill="white" data-v-b5b5e6c8></circle><path d="M22 16l-5-5-8 8h11a2 2 0 0 0 2-2v-1z" fill="white" opacity="0.8" data-v-b5b5e6c8></path><path d="M18 4l2 2-8 8-2-2 8-8z" fill="white" data-v-b5b5e6c8></path></svg><div class="portal-title" data-v-b5b5e6c8>图像编辑</div><div class="portal-desc" data-v-b5b5e6c8>多图参考编辑 (Gemini)</div></a></div></section>',2)),u.value?(r(),s("section",te,[...e[17]||(e[17]=[y('<div class="section-header section-header-gray" data-v-b5b5e6c8><span class="section-label" data-v-b5b5e6c8>系统设置</span><span class="section-tag" data-v-b5b5e6c8>仅管理员</span></div><div class="portal-grid" data-v-b5b5e6c8><a href="/admin" class="card portal-card portal-card-admin" data-v-b5b5e6c8><svg class="portal-icon" viewBox="0 0 24 24" fill="url(#grad-admin)" stroke="none" data-v-b5b5e6c8><circle cx="12" cy="12" r="10" data-v-b5b5e6c8></circle><circle cx="12" cy="12" r="4" fill="white" data-v-b5b5e6c8></circle><rect x="11" y="2" width="2" height="4" rx="1" fill="white" data-v-b5b5e6c8></rect><rect x="11" y="18" width="2" height="4" rx="1" fill="white" data-v-b5b5e6c8></rect><rect x="18" y="11" width="4" height="2" rx="1" fill="white" data-v-b5b5e6c8></rect><rect x="2" y="11" width="4" height="2" rx="1" fill="white" data-v-b5b5e6c8></rect></svg><div class="portal-title" data-v-b5b5e6c8>管理后台</div><div class="portal-desc" data-v-b5b5e6c8>用户管理与系统统计</div></a></div>',2)])])):f("",!0)]))}}),oe=F(ae,[["__scopeId","data-v-b5b5e6c8"]]);H(oe).mount("#app");
