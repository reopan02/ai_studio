import{d as e,a as i,b as l,g as d,e as t,i as s,j as o,k as n}from"./supabase-yVp6g-J3.js";import{_ as c}from"./preload-helper-Bwgp-7an.js";/* empty css                   */const r={class:"admin-page"},v=e({__name:"admin-page",setup(u){return(m,a)=>(l(),i("div",r,[...a[0]||(a[0]=[d('<div class="admin-container"><header class="admin-header"><div><h1>Admin Dashboard</h1><div class="meta-text">User management and system stats</div></div><div class="header-actions"><a href="/" class="btn btn-secondary" style="text-decoration:none;">Home</a><a href="/video" class="btn btn-secondary" style="text-decoration:none;">Video</a><a href="/storage" class="btn btn-secondary" style="text-decoration:none;">Storage</a></div></header><section id="errorBanner" class="card admin-banner" style="display:none;"></section><section class="stats-grid" id="statsGrid"><div class="card stat-card"><div class="stat-label">Total Users</div><div class="stat-value" id="statTotalUsers">-</div></div><div class="card stat-card"><div class="stat-label">Active Users</div><div class="stat-value" id="statActiveUsers">-</div></div><div class="card stat-card"><div class="stat-label">Storage Used</div><div class="stat-value" id="statStorageUsed">-</div></div><div class="card stat-card"><div class="stat-label">Storage Quota</div><div class="stat-value" id="statStorageQuota">-</div></div><div class="card stat-card"><div class="stat-label">Videos</div><div class="stat-value" id="statVideos">-</div></div><div class="card stat-card"><div class="stat-label">Images</div><div class="stat-value" id="statImages">-</div></div><div class="card stat-card"><div class="stat-label">Active Sessions</div><div class="stat-value" id="statSessions">-</div></div></section><section class="card"><div class="toolbar"><div class="toolbar-left"><input id="searchInput" type="text" placeholder="Search username or email…"><select id="filterActive" aria-label="Filter active status"><option value="">All statuses</option><option value="true">Active</option><option value="false">Inactive</option></select><select id="filterAdmin" aria-label="Filter admin role"><option value="">All roles</option><option value="true">Admins</option><option value="false">Non-admin</option></select></div><div class="toolbar-right"><button class="btn btn-secondary" id="refreshBtn" type="button">Refresh</button></div></div><div class="table-wrap"><table class="admin-table" aria-label="User table"><thead><tr><th>Username</th><th>Email</th><th>Status</th><th>Role</th><th>Storage</th><th>Created</th><th>Last Login</th><th style="width:200px;">Actions</th></tr></thead><tbody id="userTbody"><tr><td colspan="8" class="meta-text">Loading…</td></tr></tbody></table></div><div class="pagination"><button class="btn btn-secondary btn-sm" id="prevPageBtn" type="button">Prev</button><span class="meta-text" id="pageLabel">Page 1</span><button class="btn btn-secondary btn-sm" id="nextPageBtn" type="button">Next</button></div></section></div>',1),t("div",{id:"userModal",class:"modal hidden",role:"dialog","aria-modal":"true","aria-labelledby":"userModalTitle"},[t("div",{class:"modal-backdrop",id:"userModalBackdrop"}),t("div",{class:"modal-content admin-modal",role:"document"},[t("div",{class:"modal-header"},[t("h3",{id:"userModalTitle"},"User"),t("button",{id:"userModalClose",class:"btn btn-ghost btn-icon",type:"button","aria-label":"Close"},[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})])])]),t("div",{class:"modal-body"},[t("div",{class:"form-grid"},[t("div",{class:"form-group"},[t("label",{for:"editEmail"},"Email"),t("input",{id:"editEmail",type:"email",autocomplete:"off"})]),t("div",{class:"form-group"},[t("label",{for:"editQuota"},"Storage quota (bytes)"),t("input",{id:"editQuota",type:"number",min:"0",step:"1"}),t("div",{class:"form-hint"},"Bytes (e.g. 1073741824 for 1 GiB)")])]),t("div",{class:"checkbox-row"},[t("label",{class:"checkbox-item"},[t("input",{type:"checkbox",id:"editActive"}),s(" Active")]),t("label",{class:"checkbox-item"},[t("input",{type:"checkbox",id:"editAdmin"}),s(" Admin")])]),t("div",{class:"admin-kv","aria-label":"User stats"},[t("div",{class:"card"},[t("div",{class:"kv-label"},"Storage"),t("div",{class:"kv-value",id:"detailStorage"},"-")]),t("div",{class:"card"},[t("div",{class:"kv-label"},"Videos"),t("div",{class:"kv-value",id:"detailVideos"},"-")]),t("div",{class:"card"},[t("div",{class:"kv-label"},"Images"),t("div",{class:"kv-value",id:"detailImages"},"-")]),t("div",{class:"card"},[t("div",{class:"kv-label"},"Active Sessions"),t("div",{class:"kv-value",id:"detailSessions"},"-")])]),t("div",{class:"login-attempts"},[t("h2",{style:{"margin-top":"8px"}},"Recent login attempts"),t("div",{class:"table-wrap",style:{"min-width":"0"}},[t("table",{"aria-label":"Login attempts table"},[t("thead",null,[t("tr",null,[t("th",null,"Time"),t("th",null,"Result"),t("th",null,"Reason"),t("th",null,"IP")])]),t("tbody",{id:"loginAttemptTbody"},[t("tr",null,[t("td",{colspan:"4",class:"meta-text"},"-")])])])])])]),t("div",{class:"modal-actions"},[t("button",{id:"deleteUserBtn",type:"button",class:"btn btn-secondary"},"Delete"),t("div",{style:{flex:"1"}}),t("button",{id:"cancelUserBtn",type:"button",class:"btn btn-secondary"},"Cancel"),t("button",{id:"saveUserBtn",type:"button",class:"btn btn-primary"},"Save")])])],-1)])]))}});async function b(){await o(),await c(()=>import("./admin-legacy-NVzGJ_fs.js"),[]),n(v).mount("#app")}b();
